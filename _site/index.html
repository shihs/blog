<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>M.C. Shih &middot; BLOG</title>  
  

  <!-- CSS -->
  <link rel="stylesheet" href="/blog/public/css/poole.css">
  <link rel="stylesheet" href="/blog/public/css/syntax.css">
  <link rel="stylesheet" href="/blog/public/css/hyde.css">
  <link rel="stylesheet" href="/blog/public/css/custom.css">
  <link rel="stylesheet" href="/blog/public/css/fontawesome-all.css">
  <link rel="stylesheet" href="/blog/public/css/fontawesome-all.min.css">
  <!-- <link href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" rel="stylesheet"> -->


  <!--<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface"> -->

  <!-- Icons -->
  <link rel="apple-touch-icon" sizes="16x16" href="/blog/public/apple-touch-icon-16-precomposed.png">
  <link rel="apple-touch-icon" sizes="24x24" href="/blog/public/apple-touch-icon-24-precomposed.png">
  <link rel="apple-touch-icon" sizes="32x32" href="/blog/public/apple-touch-icon-32-precomposed.png">
  <link rel="apple-touch-icon" sizes="48x48" href="/blog/public/apple-touch-icon-48-precomposed.png">
  <link rel="apple-touch-icon" sizes="57x57" href="/blog/public/apple-touch-icon-57-precomposed.png">
  <link rel="apple-touch-icon" sizes="64x64" href="/blog/public/apple-touch-icon-64-precomposed.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/blog/public/apple-touch-icon-72-precomposed.png"> 
  <link rel="apple-touch-icon" sizes="114x114" href="/blog/public/apple-touch-icon-114-precomposed.png"> 
  <link rel="apple-touch-icon" sizes="120x120" href="/blog/public/apple-touch-icon-120-precomposed.png"> 
  <link rel="apple-touch-icon" sizes="144x144" href="/blog/public/apple-touch-icon-144-precomposed.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/blog/public/apple-touch-icon-152-precomposed.png">
  <link rel="apple-touch-icon" sizes="512x512" href="/blog/public/apple-touch-icon-512-precomposed.png">
  <link rel="shortcut icon" href="/blog/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/blogblog/atom.xml">
  <!-- 數學符號 -->
  <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
</head>


  <body>
  	
    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/blog/">
          M.C. Shih
        </a>
        <img src="/blog/img/headshot.png" alt="Author Image" class="headshot">
      </h1>
      <p class="lead">Just for learning.</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item active" href="/blog/">Blog</a>

      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/blog/about/">About</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/blog/archive/">Archives</a>
          
        
      
        
      
        
          
            <a class="sidebar-nav-item" href="/blog/category/">Category</a>
          
        
      
        
          
        
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/blog/search/">Search</a>
          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      

    </nav>
    <div class="links">
      <ul>
        <li><a href="https://shihs.github.io" class="homepage" target="_blank"><img src="/blog/img/link%20icon/iconmonstr-home-6-240.png"></a></li>
        <li><a href="https://github.com/shihs" class="github" target="_blank"><img src="/blog/img/link%20icon/iconmonstr-github-3-240.png"></a></li>
        <li><a href="https://www.linkedin.com/in/min-chun-shih-6647779a/" class="linkedin" target="_blank"><img src="/blog/img/link%20icon/iconmonstr-linkedin-3-240.png"></a></li>
        <li><a href="https://www.instagram.com/itakephotos_tw/" class="instagram" target="_blank"><img src="/blog/img/link%20icon/iconmonstr-instagram-8-240.png"></a></li>
        <li><a href="https://www.flickr.com/photos/mcshihs/" class="flickr" target="_blank"><img src="/blog/img/link%20icon/iconmonstr-flickr-3-240.png"></a></li>
      </ul>
    </div>
    

    <p class = "rights">&copy; 2022. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="posts" id="begin">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/blog/test/2022/09/04/test/">
        test
      </a>
    </h1>

    <div class="post-info">
      <!-- <span class="post-date">Posted by Shihs on September 4, 2022</span> -->
      <i class="fas fa-calendar-alt"></i>
      <span class="post-date">September 4, 2022</span>
      <span class="post-categories">
      <!-- <i class="fas fa-tag"></i> -->
      <!-- <i class="far fa-book"></i> -->
      <i class="fas fa-box"></i>
      
      
        <a target="_blank" href="/blog/category/#test">test</a>
        
      
    </span>

    </div>
    <!-- <p>this is a post test.</p>
 -->
    
    <div class="post-excerpt"><p>this is a post test.</p>
</div>

    <div class="bookmark">
      <!-- <i class="far fa-comments"></i> -->
      <i class="fas fa-comments"></i>
      <span>
        


<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
var disqus_config = function () {
        // this.page.url = '/blog//test/2022/09/04/test/#disqus_thread';
        this.page.identifier = '/test/2022/09/04/test/';
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://mcshihs.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>



        <a href="/blog//test/2022/09/04/test/#disqus_thread" data-disqus-identifier="/test/2022/09/04/test/">0 Comments</a>
      </span>
    </div>
    
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/blog/mongodb/2022/06/10/MongoDB-%E5%BB%BA%E7%AB%8B-Cloud-MongoDB/">
        [MongoDB]建立 Cloud MongoDB
      </a>
    </h1>

    <div class="post-info">
      <!-- <span class="post-date">Posted by Shihs on June 10, 2022</span> -->
      <i class="fas fa-calendar-alt"></i>
      <span class="post-date">June 10, 2022</span>
      <span class="post-categories">
      <!-- <i class="fas fa-tag"></i> -->
      <!-- <i class="far fa-book"></i> -->
      <i class="fas fa-box"></i>
      
      
        <a target="_blank" href="/blog/category/#MongoDB">MongoDB</a>
        
      
    </span>

    </div>
    <!-- <h2 id="使用-mongodb-atlas-建立-cloud-mongodb">使用 MongoDB Atlas 建立 Cloud MongoDB</h2>

<ul>
  <li>註冊 <a href="https://www.mongodb.com/atlas/database">MongoDB Atlas</a> 帳號</li>
  <li>點選 <strong>Sign In</strong>
<img src="https://i.imgur.com/ZCctWhc.png" alt="" /></li>
  <li>登入
<img src="https://i.imgur.com/PUYzmMY.png" alt="" /></li>
  <li>Accept Privacy Policy &amp; Terms of Service
<img src="https://i.imgur.com/vf9T7rH.png" alt="" /></li>
  <li>問卷填寫
<img src="https://i.imgur.com/S7BKKOI.png" alt="" /></li>
  <li>選擇 deploy 的方案
<img src="https://i.imgur.com/uVWJMux.png" alt="" /></li>
  <li>選擇免費的方案 Create a Shared Cluster，這裡我是選擇 Google Cloud 在台灣的 Sever（要選擇其他 server 也可以），因為使用免費版本，所以其他設定都不調整，使用預設值，完成後選擇 <strong>Create Cluster</strong>
<img src="https://i.imgur.com/Eru5JEv.png" alt="" />
<img src="https://i.imgur.com/MSDxbvm.png" alt="" /></li>
  <li>建立 Cluster 中
<img src="https://i.imgur.com/FaLtNCA.png" alt="" /></li>
  <li>設定 MongoDB 的 Username 和 Password
<img src="https://i.imgur.com/XILIeIx.png" alt="" /></li>
  <li>設定可連線 MongoDB 的 IP
<img src="https://i.imgur.com/P0TGWsz.png" alt="" /></li>
  <li>Database Deployments
<img src="https://i.imgur.com/RHC7cAy.png" alt="" /></li>
  <li>載入 Sample Data 測試，點選 <strong>Load Sample Data</strong>，需要花點時間等待
<img src="https://i.imgur.com/OC9QQZV.png" alt="" />
<img src="https://i.imgur.com/15nlBTB.png" alt="" /></li>
  <li>Sample Data Loaded</li>
  <li><img src="https://i.imgur.com/OhUElwy.png" alt="" /></li>
  <li>查看資料，點選 <strong>Browse Collection</strong>，可以看到測試資料已經進到 MongoDB
<img src="https://i.imgur.com/7DBRFix.png" alt="" /></li>
  <li>DB &amp; Collection，以下圖為例，<code class="language-plaintext highlighter-rouge">sample_airbnb</code> 是 DB，<code class="language-plaintext highlighter-rouge">listingsAndReviews</code> 為 Collection
<img src="https://i.imgur.com/VlOC1Yf.png" alt="" /></li>
  <li>使用 Python 測試連線
接下來要示範連線至 listingsAndReviews 這個 Collection</li>
</ul>

<h2 id="connect-mongodb-with-python">Connect MongoDB with Python</h2>
<p>示範如何使用 Python 連剛剛建立的 Cloud MongoDB</p>

<h3 id="install-pymongo--dnspython">Install pymongo &amp; dnspython</h3>
<ul>
  <li><code class="language-plaintext highlighter-rouge">conda install pymongo</code></li>
  <li><code class="language-plaintext highlighter-rouge">conda install dnspython</code></li>
</ul>

<h3 id="查看連線的-uri">查看連線的 URI</h3>
<ul>
  <li>點選 <strong>Connect</strong>
<img src="https://i.imgur.com/WENwjPR.png" alt="" /></li>
  <li>點選 <strong>Connect your application</strong>
<img src="https://i.imgur.com/6D025EI.png" alt="" /></li>
  <li>選擇 driver 的版本，這邊選擇 Python 3.6 含以上的版本，複製下方產生的程式碼，並將程式碼中的 <code class="language-plaintext highlighter-rouge">&lt;password&gt;</code> 改成剛剛設定的使用者的密碼
<img src="https://i.imgur.com/FMvaQcd.png" alt="" /></li>
  <li>Python 程式碼示範</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">pymongo</span> <span class="kn">import</span> <span class="n">MongoClient</span>
<span class="kn">import</span> <span class="nn">pprint</span>

<span class="n">DB</span> <span class="o">=</span> <span class="s">'sample_airbnb'</span>
<span class="n">COLLECTION</span> <span class="o">=</span> <span class="s">'listingsAndReviews'</span>
<span class="n">URI</span> <span class="o">=</span> <span class="s">'mongodb+srv://test:&lt;password&gt;@cluster0.uvf5k.mongodb.net/myFirstDatabase?retryWrites=true&amp;w=majority'</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">MongoClient</span><span class="p">(</span><span class="n">URI</span><span class="p">)</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">client</span><span class="p">[</span><span class="n">DB</span><span class="p">]</span>
<span class="n">pprint</span><span class="p">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">db</span><span class="p">[</span><span class="n">COLLECTION</span><span class="p">].</span><span class="n">find_one</span><span class="p">())</span>
<span class="n">client</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="https://i.imgur.com/Wgs8Gjb.png" alt="" /></p>

<hr />

<p><strong>Reference:</strong></p>
<ul>
  <li><a href="https://ithelp.ithome.com.tw/articles/10236244?sc=iThelpR">Day13 — 架起MongoDB囉!</a></li>
</ul>
 -->
    
    <div class="post-excerpt"><h2 id="使用-mongodb-atlas-建立-cloud-mongodb">使用 MongoDB Atlas 建立 Cloud MongoDB</h2>
</div>

    <div class="bookmark">
      <!-- <i class="far fa-comments"></i> -->
      <i class="fas fa-comments"></i>
      <span>
        


<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
var disqus_config = function () {
        // this.page.url = '/blog//mongodb/2022/06/10/MongoDB-%E5%BB%BA%E7%AB%8B-Cloud-MongoDB/#disqus_thread';
        this.page.identifier = '/mongodb/2022/06/10/MongoDB-%E5%BB%BA%E7%AB%8B-Cloud-MongoDB/';
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://mcshihs.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>



        <a href="/blog//mongodb/2022/06/10/MongoDB-%E5%BB%BA%E7%AB%8B-Cloud-MongoDB/#disqus_thread" data-disqus-identifier="/mongodb/2022/06/10/MongoDB-%E5%BB%BA%E7%AB%8B-Cloud-MongoDB/">0 Comments</a>
      </span>
    </div>
    
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/blog/python/flask/2022/04/06/Flask-%E5%9F%BA%E6%9C%AC%E5%AF%A6%E5%81%9A/">
        [Python][Flask]Flask 基本實做
      </a>
    </h1>

    <div class="post-info">
      <!-- <span class="post-date">Posted by Shihs on April 6, 2022</span> -->
      <i class="fas fa-calendar-alt"></i>
      <span class="post-date">April 6, 2022</span>
      <span class="post-categories">
      <!-- <i class="fas fa-tag"></i> -->
      <!-- <i class="far fa-book"></i> -->
      <i class="fas fa-box"></i>
      
      
        <a target="_blank" href="/blog/category/#Python">Python</a>
        &nbsp;
      
        <a target="_blank" href="/blog/category/#Flask">Flask</a>
        
      
    </span>

    </div>
    <!-- <h2 id="flask-簡介">Flask 簡介</h2>

<p><a href="https://flask.palletsprojects.com/en/2.0.x/">Flask</a>. A web framework takes care of all the routing needed to organize a web page so that you don’t have to write the code yourself!</p>

<p><strong>Why Flask?</strong></p>

<ul>
  <li>First and foremost, you’ll be working with Flask because it is written in Python. You won’t need to learn a new programming language.</li>
  <li>Flask is also a relatively simple framework, so it’s good for making a small web app.</li>
  <li>Because Flask is written in Python, you can use Flask with any other Python library including pandas, numpy and scikit-learn. In this lesson, you’ll be deploying a data dashboard and pandas will help get the data ready.</li>
</ul>

<hr />

<h2 id="基本樣板">基本樣板</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># 檔案結構
|- webapp.py
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># webapp.py
</span><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span> <span class="c1"># __name__ 代表目前執行的模組
</span>
<span class="o">@</span><span class="n">app</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">'/'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
    <span class="k">return</span> <span class="s">'Index page'</span>


<span class="o">@</span><span class="n">app</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">'/hello'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>
    <span class="k">return</span> <span class="s">'Hello World!'</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
     <span class="n">app</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
     <span class="c1"># app.run(host='127.0.0.1', port=8000)
</span></code></pre></div></div>
<p><img src="https://i.imgur.com/Fmq8bFT.png" alt="" /></p>

<p>在開發的時候加上 <code class="language-plaintext highlighter-rouge">app.run(debug=True)</code> 讓程式調整的時候不需要每次重啟，所以在正式環境時不會設置。也可以寫成，<code class="language-plaintext highlighter-rouge">app.debug=True</code>、<code class="language-plaintext highlighter-rouge">app.run()</code>。</p>

<hr />

<h3 id="approute">@app.route()</h3>

<p>介紹<code class="language-plaintext highlighter-rouge">@app.route()</code>前先了解 Python 的裝飾器（Decorator）<code class="language-plaintext highlighter-rouge">@</code>。</p>

<p><strong>Python 的 Decorator</strong></p>

<ul>
  <li>文章：<a href="https://medium.com/citycoddee/python%E9%80%B2%E9%9A%8E%E6%8A%80%E5%B7%A7-3-%E7%A5%9E%E5%A5%87%E5%8F%88%E7%BE%8E%E5%A5%BD%E7%9A%84-decorator-%E5%97%B7%E5%97%9A-6559edc87bc0">Python進階技巧 (3) — 神奇又美好的 Decorator ，嗷嗚！</a></li>
  <li>general decorators tutorial: <a href="https://realpython.com/primer-on-python-decorators/">Primer on Python Decorators</a></li>
  <li>In Python, the @ symbol is used for decorators.</li>
  <li>A decorator is just a function which takes in a function (the one which you decorated with the “@” symbol) and returns a new function.</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># This is our decorator
</span><span class="k">def</span> <span class="nf">simple_decorator</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
    <span class="c1"># This is the new function we're going to return
</span>    <span class="c1"># This function will be used in place of our original definition
</span>    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">():</span>
        <span class="k">print</span> <span class="s">"Entering Function"</span>
        <span class="n">f</span><span class="p">()</span>
        <span class="k">print</span> <span class="s">"Exited Function"</span>

    <span class="k">return</span> <span class="n">wrapper</span>

<span class="o">@</span><span class="n">simple_decorator</span> 
<span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>
    <span class="k">print</span> <span class="s">"Hello World"</span>

<span class="n">hello</span><span class="p">()</span>
</code></pre></div></div>

<p>結果：</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Entering Function
Hello World
Exited Function
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">decorator_factory</span><span class="p">(</span><span class="n">enter_message</span><span class="p">,</span> <span class="n">exit_message</span><span class="p">):</span>
    <span class="c1"># We're going to return this decorator
</span>    <span class="k">def</span> <span class="nf">simple_decorator</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">wrapper</span><span class="p">():</span>
            <span class="k">print</span> <span class="n">enter_message</span>
            <span class="n">f</span><span class="p">()</span>
            <span class="k">print</span> <span class="n">exit_message</span>

        <span class="k">return</span> <span class="n">wrapper</span>

    <span class="k">return</span> <span class="n">simple_decorator</span>

<span class="o">@</span><span class="n">decorator_factory</span><span class="p">(</span><span class="s">"Start"</span><span class="p">,</span> <span class="s">"End"</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>
    <span class="k">print</span> <span class="s">"Hello World"</span>

<span class="n">hello</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Start
Hello World
End
</code></pre></div></div>

<hr />

<h3 id="route">route</h3>
<p>route 的意思是「路；路線；路程；航線；路由」，在這裡則是指定網址的路徑。</p>

<p>因此，要將網址的路徑指定為<code class="language-plaintext highlighter-rouge">hello</code>則可以寫成</p>
<pre><code class="language-python=">@app.route('/hello')
</code></pre>

<ul>
  <li>更多<code class="language-plaintext highlighter-rouge">@app.route()</code>的用法：<a href="https://pythonbasics.org/flask-tutorial-routes/">Flask Tutorial: Routes</a></li>
</ul>

<hr />

<h2 id="將-html-獨立出來">將 html 獨立出來</h2>

<p>將 html 獨立出來撰寫，並使用 <code class="language-plaintext highlighter-rouge">render_template()</code> 讀取。flask 會從 <strong>templates</strong> 資料夾搜尋這個 html 檔案，並回傳。所以檔案的結構會是</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># 檔案結構
|- templates
|   |_ index.html
|_ webapp.py
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># webapp.py
</span><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">render_template</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>

<span class="o">@</span><span class="n">app</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">'/'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
    <span class="c1"># return 'Index page'
</span>    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s">'index.html'</span><span class="p">)</span>


<span class="o">@</span><span class="n">app</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">'/hello'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>
    <span class="k">return</span> <span class="s">'Hello World!!'</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
     <span class="n">app</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- index.html --&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"utf-8"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;title&gt;</span>Flask frame work<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;h1&gt;</span>I'm the best!<span class="nt">&lt;/h1&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<hr />
<h3 id="增加-html-layout-與-css">增加 html layout 與 css</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># 檔案結構
|- static
|   |_ css
|       |_main.css 
|- templates
|   |- index.html
|   |_ layout.html
|_ webapp.py
</code></pre></div></div>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">/*main.css*/</span>
<span class="nt">body</span> <span class="p">{</span>
    <span class="nl">font-family</span><span class="p">:</span> <span class="nb">sans-serif</span><span class="p">;</span>
    <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- layout.html --&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"utf-8"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">type=</span><span class="s">"text/css"</span> <span class="na">href=</span><span class="s">"{{ url_for('static', filename='css/main.css') }}"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;title&gt;</span>{% block head %} {% endblock %}<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
    {% block body %} {% endblock %}
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- index.html --&gt;</span>
{% extends "layout.html" %}
{% block head %}
    This is title
{% endblock head %}

{% block body %}
    <span class="nt">&lt;h1&gt;</span>Index Page<span class="nt">&lt;/h1&gt;</span>
{% endblock body %}
</code></pre></div></div>

<h4 id="template-engine---jinja">Template Engine - Jinja</h4>
<ul>
  <li><strong>Jinja</strong> is a web <strong>Template Engine</strong> for Python
    <ul>
      <li>Jinja is Flask’s default template engine</li>
      <li>透過 Template Engine（模板引擎）可以在靜態的 HTML 加入變數，動態的 render 出 HTML，動態建立HTML</li>
      <li>可以使用變數、條件、迴圈來撰寫更簡潔的 code，能夠更輕鬆的維護程式碼
<img src="https://i.imgur.com/oaRqhxd.png =200x380" alt="" /></li>
    </ul>
  </li>
  <li>常用語法
    <ul>
      <li>comments: <code class="language-plaintext highlighter-rouge">{# comments #}</code></li>
      <li>variables
        <ul>
          <li><code class="language-plaintext highlighter-rouge">{{ post.title }}</code></li>
          <li>dictionary: <code class="language-plaintext highlighter-rouge">{{your_dict['key']}}</code></li>
          <li>list: <code class="language-plaintext highlighter-rouge">{{your_list[0]}}</code></li>
        </ul>
      </li>
      <li>多行代碼：<code class="language-plaintext highlighter-rouge">{% 開始 %} HTML標籤 {% 結束 %}</code></li>
    </ul>
  </li>
  <li><a href="https://segmentfault.com/a/1190000018002480">一篇文章搞懂Jinja2 Template Engine 模版引擎</a></li>
  <li><a href="https://ithelp.ithome.com.tw/articles/10158878">Day8– 前端小字典三十天【每日一字】– Template Engine</a></li>
</ul>

<hr />

<h3 id="將-webapppy-分解">將 webapp.py 分解</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># 檔案結構
|- run.py
|_ plotlyapp
    |- static
    |   |_ css
    |       |_main.css 
    |- templates
    |   |- index.html
    |   |_ layout.html
    |- __init__.py
    |_ routes.py
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># run.py
</span><span class="kn">from</span> <span class="nn">plotlyapp</span> <span class="kn">import</span> <span class="n">app</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
     <span class="n">app</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># __init__.py
</span><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">plotlyapp</span> <span class="kn">import</span> <span class="n">routes</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># routes.py
</span><span class="kn">from</span> <span class="nn">plotlyapp</span> <span class="kn">import</span> <span class="n">app</span>
<span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">render_template</span><span class="p">,</span> <span class="n">url_for</span>

<span class="o">@</span><span class="n">app</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">'/'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s">'index.html'</span><span class="p">)</span>


<span class="o">@</span><span class="n">app</span><span class="p">.</span><span class="n">route</span><span class="p">(</span><span class="s">'/hello'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>
    <span class="k">return</span> <span class="s">'Hello World!!'</span>
</code></pre></div></div>

<p><strong>執行 web app</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python run.py
</code></pre></div></div>

<hr />

<p><strong>Reference:</strong></p>
<ul>
  <li><a href="https://clay-atlas.com/blog/2020/02/21/python-flask-chinese-notes-0-build-simple-page/">[Python] Flask 學習心得筆記 (0): 建立一個基本的靜態網頁</a></li>
  <li><a href="https://hackmd.io/@shaoeChen/HJiZtEngG/https%3A%2F%2Fhackmd.io%2Fs%2FHyY5Rq5kG">Book_Python Flask實作記錄</a></li>
  <li><a href="https://www.youtube.com/watch?v=Z1RJmh_OqeA">Learn Flask for Python - Full Tutorial</a></li>
  <li><a href="https://www.youtube.com/watch?v=MwZwr5Tvyxo&amp;list=PL-osiE80TeTs4UjLw5MM6OjgkjFeUxCYH">Python Flask Tutorial: Full-Featured Web App Part 1 - Getting Started</a></li>
</ul>
 -->
    
    <div class="post-excerpt"><h2 id="flask-簡介">Flask 簡介</h2>
</div>

    <div class="bookmark">
      <!-- <i class="far fa-comments"></i> -->
      <i class="fas fa-comments"></i>
      <span>
        


<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
var disqus_config = function () {
        // this.page.url = '/blog//python/flask/2022/04/06/Flask-%E5%9F%BA%E6%9C%AC%E5%AF%A6%E5%81%9A/#disqus_thread';
        this.page.identifier = '/python/flask/2022/04/06/Flask-%E5%9F%BA%E6%9C%AC%E5%AF%A6%E5%81%9A/';
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://mcshihs.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>



        <a href="/blog//python/flask/2022/04/06/Flask-%E5%9F%BA%E6%9C%AC%E5%AF%A6%E5%81%9A/#disqus_thread" data-disqus-identifier="/python/flask/2022/04/06/Flask-%E5%9F%BA%E6%9C%AC%E5%AF%A6%E5%81%9A/">0 Comments</a>
      </span>
    </div>
    
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/blog/python/2022/04/05/Python-%E5%9C%A8-Mac-%E4%B8%8B%E8%BC%89%E8%88%87%E5%AE%89%E8%A3%9D-Miniconda/">
        [Python]在 Mac 下載與安裝 Miniconda
      </a>
    </h1>

    <div class="post-info">
      <!-- <span class="post-date">Posted by Shihs on April 5, 2022</span> -->
      <i class="fas fa-calendar-alt"></i>
      <span class="post-date">April 5, 2022</span>
      <span class="post-categories">
      <!-- <i class="fas fa-tag"></i> -->
      <!-- <i class="far fa-book"></i> -->
      <i class="fas fa-box"></i>
      
      
        <a target="_blank" href="/blog/category/#Python">Python</a>
        
      
    </span>

    </div>
    <!-- <p>Conda 除了能夠管理套件也能夠管理工作環境，是個好用的工具。
之前是下載 Anaconda 來使用 Conda，但 Anaconda 在最一開始下載時就會下載很多套件，可是大多數的套件其實都用不到，卻又佔用了大量的空間（Anaconda 在刪除前在我的電腦佔用了十幾 GB），因此決定轉換使用 Miniconda 來使用 conda。</p>

<hr />

<h2 id="刪除-anaconda">刪除 Anaconda</h2>

<p>參考官網的 <a href="https://docs.anaconda.com/anaconda/install/uninstall/">uninstall Anaconda</a> 的方法。</p>

<p>原本想使用第二種方法 <code class="language-plaintext highlighter-rouge">conda install anaconda-clean</code>，但在下載 <code class="language-plaintext highlighter-rouge">anaconda-clean</code> 時一直碰到問題，所以最後決定使用第一種方法。</p>

<p>直接刪除整個 <code class="language-plaintext highlighter-rouge">rm -rf ~/anaconda3</code> 資料夾，為避免這種刪法沒有刪乾淨，再手動搜尋 <code class="language-plaintext highlighter-rouge">anaconda</code> 刪除所有相關的檔案。</p>

<hr />

<h2 id="下載與安裝-miniconda">下載與安裝 Miniconda</h2>

<ol>
  <li>到官網下載 <a href="https://docs.conda.io/en/latest/miniconda.html">Miniconda</a>
    <ul>
      <li>根據步驟一直點選下一步就好</li>
    </ul>
  </li>
  <li>安裝完成後，Miniconda 會自動在 <code class="language-plaintext highlighter-rouge">.zchrc</code> 和 <code class="language-plaintext highlighter-rouge">.bash_profile</code> 加上路徑
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="c"># &gt;&gt;&gt; conda initialize &gt;&gt;&gt;</span>
 <span class="c"># !! Contents within this block are managed by 'conda init' !!</span>
 <span class="nv">__conda_setup</span><span class="o">=</span><span class="s2">"</span><span class="si">$(</span><span class="s1">'/Users/your_user_name/opt/miniconda3/bin/conda'</span> <span class="s1">'shell.bash'</span> <span class="s1">'hook'</span> 2&gt; /dev/null<span class="si">)</span><span class="s2">"</span>
 <span class="k">if</span> <span class="o">[</span> <span class="nv">$?</span> <span class="nt">-eq</span> 0 <span class="o">]</span><span class="p">;</span> <span class="k">then
     </span><span class="nb">eval</span> <span class="s2">"</span><span class="nv">$__conda_setup</span><span class="s2">"</span>
 <span class="k">else
     if</span> <span class="o">[</span> <span class="nt">-f</span> <span class="s2">"/Users/your_user_name/opt/miniconda3/etc/profile.d/conda.sh"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
         <span class="nb">.</span> <span class="s2">"/Users/your_user_name/opt/miniconda3/etc/profile.d/conda.sh"</span>
     <span class="k">else
         </span><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"/Users/your_user_name/opt/miniconda3/bin:</span><span class="nv">$PATH</span><span class="s2">"</span>
     <span class="k">fi
 fi
 </span><span class="nb">unset </span>__conda_setup
 <span class="c"># &lt;&lt;&lt; conda initialize &lt;&lt;&lt;</span>
</code></pre></div>    </div>
  </li>
  <li>確認是否安裝成功
    <ul>
      <li>打開 terminal，<code class="language-plaintext highlighter-rouge">conda --version</code> 如果能正確顯示 conda 版本，就表示 conda 順利安裝完成！</li>
    </ul>
  </li>
</ol>

<hr />

<h2 id="conda-常用指令">conda 常用指令</h2>

<h3 id="cheatsheet">Cheatsheet</h3>
<ul>
  <li><a href="https://docs.conda.io/projects/conda/en/4.6.0/_downloads/52a95608c49671267e40c689e0bc00ca/conda-cheatsheet.pdf">Document</a></li>
</ul>

<p><strong>conda 的資訊</strong></p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">conda --version</code>：檢視 conda 版本</li>
  <li><code class="language-plaintext highlighter-rouge">conda update conda</code>：更新 conda 版本</li>
  <li><code class="language-plaintext highlighter-rouge">conda env list</code>：conda 所有的環境</li>
</ul>

<p><strong>conda basic</strong></p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">conda install PACKAGENAME</code>：Install a package included in Anaconda</li>
  <li><code class="language-plaintext highlighter-rouge">conda update PACKAGENAME</code>：Update any installed program</li>
</ul>

<p><strong>環境</strong></p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">conda create --name ENV_NAME python=VERSION</code>：建立特定版本，名稱為<code class="language-plaintext highlighter-rouge">ENV_NAME</code>的環境
    <ul>
      <li>Ex. <code class="language-plaintext highlighter-rouge">conda create --name myenv python=3.6</code></li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">conda activate ENVIRONMENT</code>：切換至指定工作環境</li>
  <li><code class="language-plaintext highlighter-rouge">conda deactivate</code>：回到 base 工作環境</li>
  <li><code class="language-plaintext highlighter-rouge">conda list</code>：active 環境中的所有套件
    <ul>
      <li><a href="https://stackoverflow.com/questions/62412898/what-does-pypi-in-the-channel-column-of-conda-list-output-imply"><code class="language-plaintext highlighter-rouge">Build Channel</code></a>的<code class="language-plaintext highlighter-rouge">pypi</code>表示是用<code class="language-plaintext highlighter-rouge">pip install PACKAGENAME</code></li>
      <li><code class="language-plaintext highlighter-rouge">pip freeze</code>可以看到所有用<code class="language-plaintext highlighter-rouge">pip install</code>下載的套件</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">conda env remove --name ENV_NAME</code>：刪除名稱為<code class="language-plaintext highlighter-rouge">ENV_NAME</code>的環境</li>
</ul>
 -->
    
    <div class="post-excerpt"><p>Conda 除了能夠管理套件也能夠管理工作環境，是個好用的工具。
之前是下載 Anaconda 來使用 Conda，但 Anaconda 在最一開始下載時就會下載很多套件，可是大多數的套件其實都用不到，卻又佔用了大量的空間（Anaconda 在刪除前在我的電腦佔用了十幾 GB），因此決定轉換使用 Miniconda 來使用 conda。</p>
</div>

    <div class="bookmark">
      <!-- <i class="far fa-comments"></i> -->
      <i class="fas fa-comments"></i>
      <span>
        


<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
var disqus_config = function () {
        // this.page.url = '/blog//python/2022/04/05/Python-%E5%9C%A8-Mac-%E4%B8%8B%E8%BC%89%E8%88%87%E5%AE%89%E8%A3%9D-Miniconda/#disqus_thread';
        this.page.identifier = '/python/2022/04/05/Python-%E5%9C%A8-Mac-%E4%B8%8B%E8%BC%89%E8%88%87%E5%AE%89%E8%A3%9D-Miniconda/';
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://mcshihs.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>



        <a href="/blog//python/2022/04/05/Python-%E5%9C%A8-Mac-%E4%B8%8B%E8%BC%89%E8%88%87%E5%AE%89%E8%A3%9D-Miniconda/#disqus_thread" data-disqus-identifier="/python/2022/04/05/Python-%E5%9C%A8-Mac-%E4%B8%8B%E8%BC%89%E8%88%87%E5%AE%89%E8%A3%9D-Miniconda/">0 Comments</a>
      </span>
    </div>
    
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/blog/python/2022/04/05/Python-%E8%99%9B%E6%93%AC%E7%92%B0%E5%A2%83-(virtual-environment)-conda-create-%E8%88%87-virtualenv-%E6%AF%94%E8%BC%83/">
        [Python]Python 虛擬環境 (virtual environment) - conda create 與 virtualenv 比較
      </a>
    </h1>

    <div class="post-info">
      <!-- <span class="post-date">Posted by Shihs on April 5, 2022</span> -->
      <i class="fas fa-calendar-alt"></i>
      <span class="post-date">April 5, 2022</span>
      <span class="post-categories">
      <!-- <i class="fas fa-tag"></i> -->
      <!-- <i class="far fa-book"></i> -->
      <i class="fas fa-box"></i>
      
      
        <a target="_blank" href="/blog/category/#Python">Python</a>
        
      
    </span>

    </div>
    <!-- <h2 id="virtualenv">Virtualenv</h2>

<p><code class="language-plaintext highlighter-rouge">virtualenv</code>是用來建立一個獨立的<code class="language-plaintext highlighter-rouge">Python</code>環境的工具，支援 Python2 和 Python3。</p>

<ol>
  <li>安裝 virtualenv：<code class="language-plaintext highlighter-rouge">pip install virtualenv</code></li>
  <li>建立虛擬環境：
    <ul>
      <li>先建立一個資料夾：<code class="language-plaintext highlighter-rouge">mkdir myenv</code></li>
      <li>路徑移到該資料夾：<code class="language-plaintext highlighter-rouge">cd myenv</code></li>
      <li>建立虛擬環境：<code class="language-plaintext highlighter-rouge">virtualenv venv</code></li>
    </ul>
  </li>
  <li>啟動虛擬環境：<code class="language-plaintext highlighter-rouge">source env/bin/activate</code></li>
  <li>在該環境下載套件：<code class="language-plaintext highlighter-rouge">pip install PACKAGE_NAME</code></li>
  <li>停用虛擬環境：<code class="language-plaintext highlighter-rouge">deactivate</code></li>
</ol>

<hr />

<h2 id="conda">Conda</h2>

<blockquote>
  <p>Conda is an open source package management system and environment management system that runs on Windows, macOS and Linux. It was created for Python programs, but it can package and distribute software for any language.</p>
</blockquote>

<p>Conda 是一個開源的跨平台工具軟體，它被設計作為 Python、R、Lua、Scala 與 Java 等任何程式語言的套件、依賴性以及工作環境管理員。傳統 Python 使用者以 pip 作為套件管理員（package manager）、以 venv 作為工作環境管理員（environment manager），而 conda 則達成了「兩個願望、一次滿足」既可以管理套件亦能夠管理工作環境。</p>

<h3 id="在-python-使用-conda">在 Python 使用 conda</h3>
<ul>
  <li>可以下載 <code class="language-plaintext highlighter-rouge">Anaconda</code>（3 GB 以上）或 <code class="language-plaintext highlighter-rouge">Miniconda</code>（400 MB 左右）
    <ul>
      <li><code class="language-plaintext highlighter-rouge">Miniconda</code> installer = Python + conda</li>
      <li><code class="language-plaintext highlighter-rouge">Anaconda</code> installer = Python + conda + meta package anaconda = <code class="language-plaintext highlighter-rouge">Miniconda</code> installer + conda install anaconda</li>
    </ul>
  </li>
</ul>

<p><strong><a href="https://stackoverflow.com/questions/30034840/what-are-the-differences-between-conda-and-anaconda/30057885#30057885">What are the differences between Conda and Anaconda?</a></strong></p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">conda</code> is the package manager. <code class="language-plaintext highlighter-rouge">Anaconda</code> is a set of about a hundred packages including conda, numpy, scipy, ipython notebook, and so on.</li>
  <li><code class="language-plaintext highlighter-rouge">Miniconda</code> is a smaller alternative to Anaconda that is just conda and its dependencies, not those listed above.</li>
  <li>Once you have Miniconda, you can easily install Anaconda into it with <code class="language-plaintext highlighter-rouge">conda install anaconda</code>.</li>
</ul>

<h3 id="下載">下載</h3>
<ul>
  <li>下載 <a href="https://docs.conda.io/en/latest/miniconda.html">Miniconda</a></li>
  <li>下載 <a href="https://www.anaconda.com/products/individual">Anaconda</a></li>
</ul>

<h3 id="cheatsheet">Cheatsheet</h3>
<ul>
  <li><a href="https://docs.conda.io/projects/conda/en/4.6.0/_downloads/52a95608c49671267e40c689e0bc00ca/conda-cheatsheet.pdf">Document</a></li>
</ul>

<p><strong>conda 的資訊</strong></p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">conda --version</code>：檢視 conda 版本</li>
  <li><code class="language-plaintext highlighter-rouge">conda update conda</code>：更新 conda 版本</li>
  <li><code class="language-plaintext highlighter-rouge">conda env list</code>：conda 所有的環境</li>
</ul>

<p><strong>conda basic</strong></p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">conda install PACKAGENAME</code>：Install a package included in Anaconda</li>
  <li><code class="language-plaintext highlighter-rouge">conda update PACKAGENAME</code>：Update any installed program</li>
</ul>

<p><strong>環境</strong></p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">conda create --name ENV_NAME python=VERSION</code>：建立特定版本，名稱為<code class="language-plaintext highlighter-rouge">ENV_NAME</code>的環境
    <ul>
      <li>Ex. <code class="language-plaintext highlighter-rouge">conda create --name myenv python=3.6</code></li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">conda activate ENVIRONMENT</code>：切換至指定工作環境</li>
  <li><code class="language-plaintext highlighter-rouge">conda deactivate</code>：回到 base 工作環境</li>
  <li><code class="language-plaintext highlighter-rouge">conda list</code>：active 環境中的所有套件
    <ul>
      <li><a href="https://stackoverflow.com/questions/62412898/what-does-pypi-in-the-channel-column-of-conda-list-output-imply"><code class="language-plaintext highlighter-rouge">Build Channel</code></a>的<code class="language-plaintext highlighter-rouge">pypi</code>表示是用<code class="language-plaintext highlighter-rouge">pip install PACKAGENAME</code></li>
      <li><code class="language-plaintext highlighter-rouge">pip freeze</code>可以看到所有用<code class="language-plaintext highlighter-rouge">pip install</code>下載的套件
<img src="https://i.imgur.com/yvuy4kT.png" alt="" width="50%" heigh="50%" /></li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">conda env remove --name ENV_NAME</code>：刪除名稱為<code class="language-plaintext highlighter-rouge">ENV_NAME</code>的環境</li>
</ul>

<hr />

<p><strong>Reference</strong>:</p>
<ul>
  <li><a href="https://medium.com/datainpoint/python-essentials-conda-quickstart-1f1e9ecd1025">輕鬆學習 Python：conda 的核心功能</a></li>
  <li><a href="https://medium.com/python4u/python-virtualenv虛擬環境安裝-9d6be2d45db9">Python — Virtualenv虛擬環境安裝</a></li>
</ul>
 -->
    
    <div class="post-excerpt"><h2 id="virtualenv">Virtualenv</h2>
</div>

    <div class="bookmark">
      <!-- <i class="far fa-comments"></i> -->
      <i class="fas fa-comments"></i>
      <span>
        


<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
var disqus_config = function () {
        // this.page.url = '/blog//python/2022/04/05/Python-%E8%99%9B%E6%93%AC%E7%92%B0%E5%A2%83-(virtual-environment)-conda-create-%E8%88%87-virtualenv-%E6%AF%94%E8%BC%83/#disqus_thread';
        this.page.identifier = '/python/2022/04/05/Python-%E8%99%9B%E6%93%AC%E7%92%B0%E5%A2%83-(virtual-environment)-conda-create-%E8%88%87-virtualenv-%E6%AF%94%E8%BC%83/';
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://mcshihs.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>



        <a href="/blog//python/2022/04/05/Python-%E8%99%9B%E6%93%AC%E7%92%B0%E5%A2%83-(virtual-environment)-conda-create-%E8%88%87-virtualenv-%E6%AF%94%E8%BC%83/#disqus_thread" data-disqus-identifier="/python/2022/04/05/Python-%E8%99%9B%E6%93%AC%E7%92%B0%E5%A2%83-(virtual-environment)-conda-create-%E8%88%87-virtualenv-%E6%AF%94%E8%BC%83/">0 Comments</a>
      </span>
    </div>
    
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/blog/web/2021/08/22/Web-MVC-%E6%9E%B6%E6%A7%8B/">
        [Web]MVC 架構
      </a>
    </h1>

    <div class="post-info">
      <!-- <span class="post-date">Posted by Shihs on August 22, 2021</span> -->
      <i class="fas fa-calendar-alt"></i>
      <span class="post-date">August 22, 2021</span>
      <span class="post-categories">
      <!-- <i class="fas fa-tag"></i> -->
      <!-- <i class="far fa-book"></i> -->
      <i class="fas fa-box"></i>
      
      
        <a target="_blank" href="/blog/category/#Web">Web</a>
        
      
    </span>

    </div>
    <!-- <p>這篇簡單地介紹 MVC 架構，若是有任何錯誤觀念，歡迎留言。</p>

<p>之前用 node.js 的 express 加上 MVC 架構寫了一個 <a href="https://github.com/shihs/to-do-list-app">TO DO LIST</a>，也許有這個例子可以更容易理解。</p>

<hr />

<h2 id="what-is-mvc">What is MVC?</h2>

<p>MVC 的三個字母分別表示 Model、View 和 Controller，是一種在軟體開發時的軟體架構 (architectural pattern) ，由 Trygve Reenskaug 在 1978 年提出，是為了 Smalltalk （一種程式語言）所發明的一種軟體架構（<a href="https://zh.wikipedia.org/wiki/MVC">wiki</a>）。</p>

<p>它的設計原則是「<strong>關注點分離</strong> (separation of concerns, SOC) 」，把不同作用的程式碼放在不同的檔案裡，讓大家各司其職。</p>

<hr />

<h2 id="圖解-mvc">圖解 MVC</h2>

<p>下圖簡單的說明了，MVC 的流程。</p>

<p><img src="https://i.imgur.com/bVwaxlv.jpg" alt="" width="90%" heigh="90%" />
<a href="https://www.hellosanta.com.tw/blog/Graphical-MVC-architecture">圖片來源</a></p>

<p>使用者操作網站與網站互動，當使用者點選網頁發出 request（可能登入、點進連結、加入購物車…..等等）後，<strong>Controller</strong> 會去接收這個 User 傳來的 request，並根據請求和 <strong>Model</strong> 要資料，當 <strong>Model</strong> 吐出資料給 <strong>Controller</strong> 後，<strong>Controller</strong> 再把資料丟給 <strong>View</strong> 讓前端去顯示，這時候 User 就會看到前端顯示出剛剛送出 request 後產生的畫面。</p>

<p>從上面的說明可以發現，<strong>Controller</strong> 扮演了重要的角色，它除了接收使用者的要求，也負責協調工作給 <strong>Model</strong> 與 <strong>View</strong>，讓每個部分都獨立專注在自己的工作，彼此之前不會直接的溝通，都是靠 <strong>Controller</strong> 傳話。</p>

<p>我覺得可以想像成 <strong>View</strong> 和 <strong>Model</strong> 各是一個部門，兩個部門有各自負責的工作且彼此之間不會直接對話與干預彼此，而使用者就是老闆，<strong>Controller</strong> 負責把老闆的任務分配給各部門，並作為各個部門之間溝通與傳遞消息的角色，讓 <strong>View</strong> 和 <strong>Model</strong> 不用知道對方在幹嘛也能讓每個任務順利完成。</p>

<p>舉一個例子，有一個使用者輸入帳號和密碼要登入一個網站，當使用者點選登入後會送出 request 到 <strong>Controller</strong>，這時候 <strong>Controller</strong> 將這個消息告訴 <strong>Model</strong>，並請 <strong>Model</strong> 檢查使用者輸入的帳號密碼是否正確，<strong>Model</strong> 收到指令後會去和 DB 確認，確認完之後會將結果傳回給 <strong>Controller</strong>（可能是帳號密碼正確或錯誤），<strong>Controller</strong> 再把這個結果給 <strong>View</strong>，<strong>View</strong> 就能根據結果顯示在網頁上，如果成功就順利登入，如果帳號密碼錯誤就顯示失敗。</p>

<p>下面這個圖，加上了前端和後端，<strong>View</strong> 負責的內容會是使用者看到的畫面（前端），而 <strong>Controller</strong> 和 <strong>Model</strong> 是使用者不會注意到背後運作的東西，而與 DB 拿資料就是 <strong>Model</strong> 的任務。</p>

<p><img src="https://dotblogsfile.blob.core.windows.net/user/%E5%B7%A5%E7%A8%8B%E8%89%AF%E7%94%B0/ec9b5c12-03c6-4658-a3f2-85f4bdeaf371/1538274044_80461.png" alt="" width="90%" heigh="90%" />
<a href="https://dotblogs.com.tw/armycoding/2018/09/29/164045">圖片來源</a></p>

<hr />

<h2 id="model-view-controller">Model, View, Controller</h2>

<p>下面再來詳細的介紹一下 MVC 它們的工作內容。</p>

<h3 id="controller">Controller</h3>

<p>從上面的圖例我們知道 Controller 是負責接收使用者的 request 並將資料分配給 Model 和 View 的重要角色。它將使用者的 request 傳給 Model，請 Model 去拿取資料，之後再將 Model 給的資料送給 View，讓 View 將資料呈現在前端讓使用者可以看到。</p>

<p>因此 Controller 決定了整個任務的工作流程，並決定最後如何呈現。下面幾個來自「<a href="https://tw.alphacamp.co/blog/mvc-model-view-controller">MVC 架構是什麼？認識 Model-View-Controller 軟體設計模式</a>」的例子</p>

<ul>
  <li>使用者是否需要先登入 (認證) 才可以看到網頁內容？</li>
  <li>使用者是否只能閱讀資料，但不能修改或刪除？</li>
  <li>使用者新增了資料之後，會重新導向至哪個頁面？</li>
</ul>

<h3 id="model">Model</h3>

<p>Model 主要負責和資料庫溝通以及商業邏輯有關的任務。Model 可以直接對資料庫做存取，但它並不關心資料之後如何被顯示或操作。而所謂的商業邏輯可以這樣理解，假設今天有一個滿千折打九折的折扣，像這樣的「商業邏輯」就可以使用一個 model 去處理使用者的訂單；又或者今天在寫一個部落格的網站，就可以有 <em>post</em> 和 <em>comment</em> 這兩個 model 去對資料庫寫進新的文章和留言的功能。</p>

<h3 id="view">View</h3>

<p>網頁的前端，使用者看到的部分，也就是 HTML 的部分。</p>

<hr />

<h2 id="mvc-優點">MVC 優點</h2>

<ul>
  <li>不管是誰寫，檔案存放的邏輯不會差太多</li>
  <li>程式碼可以重複利用（reusable）</li>
  <li>更容易維護程式碼</li>
  <li>方便團隊合作：團隊各在開發時可以各自負責不同部分，不會互相影響</li>
</ul>

<hr />

<h2 id="route-與-mvc-框架">Route 與 MVC 框架</h2>

<p>前面介紹的 MVC 架構當使用者送出 request 後是直接由 <strong>Controller</strong> 去接收做處理，但如果網頁的 request 是由 <strong>Route</strong> 去處理，這樣 <strong>Controller</strong> 接收的訊息就會是由 <strong>Route</strong> 傳送過來的，但其他的工作內容基本上和前面介紹的 MVC 是一樣的。</p>

<p>如果想要具體的了解可以看這篇「<a href="https://ithelp.ithome.com.tw/articles/10194968">Node.js-Backend 見聞錄(10)：關於後端觀念(六)-關於 MVC </a>」，比較具體地介紹 node.js route 的 MVC 架構。</p>

<p><img src="https://2.bp.blogspot.com/-gX62WAgkWWs/VIXBRs6w6SI/AAAAAAAAAvM/hmx8361at9k/s1600/laravel-mvc-components.png" alt="" width="90%" heigh="90%" />
<a href="https://tutorial-4-php.blogspot.com/2014/12/model-view-controller-mvc.html">圖片來源</a></p>

<p>*上圖 Routing 上面的「Laravel」是 PHP 的一個 web framwork，因為圖片來源的文章是在講解 PHP。</p>

<hr />

<ul>
  <li><a href="https://tutorial-4-php.blogspot.com/2014/12/model-view-controller-mvc.html">Model-View-Controller (MVC) </a></li>
  <li><a href="https://tw.alphacamp.co/blog/mvc-model-view-controller">MVC 架構是什麼？認識 Model-View-Controller 軟體設計模式</a></li>
  <li><a href="https://ithelp.ithome.com.tw/articles/10191216">[Day 01] 什麼是 MVC？能吃嗎？ </a></li>
  <li><a href="https://www.ibest.tw/mvc-website.php">什麼是 MVC 網頁設計? 做網站一定需要 MVC 嗎?</a></li>
  <li><a href="https://www.youtube.com/watch?v=zW_tZR0Ir3Q">Node.js Crash Course Tutorial #11 - Express Router &amp; MVC</a></li>
</ul>
 -->
    
    <div class="post-excerpt"><p>這篇簡單地介紹 MVC 架構，若是有任何錯誤觀念，歡迎留言。</p>
</div>

    <div class="bookmark">
      <!-- <i class="far fa-comments"></i> -->
      <i class="fas fa-comments"></i>
      <span>
        


<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
var disqus_config = function () {
        // this.page.url = '/blog//web/2021/08/22/Web-MVC-%E6%9E%B6%E6%A7%8B/#disqus_thread';
        this.page.identifier = '/web/2021/08/22/Web-MVC-%E6%9E%B6%E6%A7%8B/';
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://mcshihs.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>



        <a href="/blog//web/2021/08/22/Web-MVC-%E6%9E%B6%E6%A7%8B/#disqus_thread" data-disqus-identifier="/web/2021/08/22/Web-MVC-%E6%9E%B6%E6%A7%8B/">0 Comments</a>
      </span>
    </div>
    
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/blog/sql/2021/08/16/%E5%9C%A8-Mac-%E6%9C%AC%E6%A9%9F%E5%AE%89%E8%A3%9D-MySQL-&-phpmyadmin/">
        [SQL]在 Mac 本機安裝 MySQL & phpmyadmin
      </a>
    </h1>

    <div class="post-info">
      <!-- <span class="post-date">Posted by Shihs on August 16, 2021</span> -->
      <i class="fas fa-calendar-alt"></i>
      <span class="post-date">August 16, 2021</span>
      <span class="post-categories">
      <!-- <i class="fas fa-tag"></i> -->
      <!-- <i class="far fa-book"></i> -->
      <i class="fas fa-box"></i>
      
      
        <a target="_blank" href="/blog/category/#SQL">SQL</a>
        
      
    </span>

    </div>
    <!-- <h4 id="1-啟動-apache">1. 啟動 Apache</h4>

<ul>
  <li><code class="language-plaintext highlighter-rouge">sudo apachectl start</code></li>
  <li>打開瀏覽器 <a href="http://localhost/">http://localhost/</a> 可以看到 <strong>It works!</strong></li>
</ul>

<h4 id="2-下載-mysql">2. 下載 MySQL</h4>

<ul>
  <li><a href="https://dev.mysql.com/downloads/mysql/">https://dev.mysql.com/downloads/mysql/</a></li>
  <li>選擇下載 <code class="language-plaintext highlighter-rouge">.dmg</code> 檔</li>
  <li>下載完後安裝，安裝過程需要<strong>設定 root 的密碼</strong></li>
  <li>打開系統偏好設定會看到出現 MySQL 的圖示，點選後啟動 MySQL
<img src="https://i.imgur.com/tusQ0GN.png" alt="" width="70%" heigh="70%" />
<img src="https://i.imgur.com/rpAQ8yJ.png" alt="" width="70%" heigh="70%" /></li>
</ul>

<h4 id="3-使用-terminal-開啟-mysql">3. 使用 terminal 開啟 MySQL</h4>

<ul>
  <li><code class="language-plaintext highlighter-rouge">mysql -u root -p</code>（<code class="language-plaintext highlighter-rouge">-u</code>: user, <code class="language-plaintext highlighter-rouge">-p</code>: password）</li>
  <li>出現 <code class="language-plaintext highlighter-rouge">Enter password:</code> 後輸入剛剛安裝時設定的 root 密碼
<img src="https://i.imgur.com/dsXdFmP.png" alt="" width="90%" heigh="90%" /></li>
</ul>

<h4 id="4-下載-phpmyadmin">4. 下載 phpmyadmin</h4>

<p>這個步驟不是必須，下載 phpmyadmin 是為了可以使用操作介面查看 MySQL。</p>

<ul>
  <li>下載 phpmyadmin：<a href="https://www.phpmyadmin.net/downloads/">https://www.phpmyadmin.net/downloads/</a></li>
  <li>瀏覽器打開 <a href="http://localhost/phpmyadmin/index.php">http://localhost/phpmyadmin/index.php</a>
<img src="https://i.imgur.com/orDEaCz.png" alt="" /></li>
</ul>

<h4 id="5-設定-phpmyadmin-登入密碼">5. 設定 phpmyadmin 登入密碼</h4>

<p>因為 phpmyadmin 的密碼身份驗證是 <code class="language-plaintext highlighter-rouge">caching_sha2_password</code> 所以會無法使用一開始設定的 root 與密碼登入，這時候需要先修改 db 的資料。</p>

<ul>
  <li>terminal 登入 MySQL（<a href="https://hackmd.io/xwgJ-FoRSsSVk6WCrgRXlA?view#3-%E4%BD%BF%E7%94%A8-terminal-%E9%96%8B%E5%95%9F-MySQL">step 3</a>）</li>
  <li>將 root 的密碼身份驗證由 <code class="language-plaintext highlighter-rouge">caching_sha2_password</code> 改成 <code class="language-plaintext highlighter-rouge">mysql_native_password</code>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">use mysql；</code>（使用 <code class="language-plaintext highlighter-rouge">mysql</code> 這個 db）</li>
      <li><code class="language-plaintext highlighter-rouge">ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY '你的密碼';</code></li>
      <li><code class="language-plaintext highlighter-rouge">FLUSH PRIVILEGES;</code></li>
    </ul>
  </li>
  <li>這時候 phpmyadmin 就可以使用設定好的 root 的密碼登入了</li>
</ul>

<hr />

<h3 id="新增新的-mysql-user">新增新的 MySQL User</h3>

<p>通常不會讓所有人都使用 root 權限操作 db，這時候就需要增加新的 user 讓其他人使用。</p>

<ul>
  <li>terminal 登入 MySQL（<a href="https://hackmd.io/xwgJ-FoRSsSVk6WCrgRXlA?view#3-%E4%BD%BF%E7%94%A8-terminal-%E9%96%8B%E5%95%9F-MySQL">step 3</a>）</li>
  <li>新增 User
    <ul>
      <li><code class="language-plaintext highlighter-rouge">use mysql；</code></li>
      <li><code class="language-plaintext highlighter-rouge">CREATE USER 'USERNAME'@'localhost' IDENTIFIED BY 'PASSWORD';</code></li>
      <li><code class="language-plaintext highlighter-rouge">ALTER USER 'username'@'localhost' IDENTIFIED WITH mysql_native_password BY 'password';</code></li>
      <li><code class="language-plaintext highlighter-rouge">FLUSH PRIVILEGES;</code></li>
    </ul>
  </li>
  <li>設定完成後 phpmyadmin 和 terminal 都可以使用設定好的帳號密碼登入
    <ul>
      <li><code class="language-plaintext highlighter-rouge">mysql -u USERNAME -p</code> / <code class="language-plaintext highlighter-rouge">PASSWORD</code></li>
    </ul>
  </li>
</ul>

<h4 id="設定新增-user-的權限">設定新增 User 的權限</h4>

<ul>
  <li>查看某 user 的權限：
<code class="language-plaintext highlighter-rouge">SHOW GRANTS FOR 'username'@'localhost';</code></li>
  <li>GRANT 權限：
<code class="language-plaintext highlighter-rouge">GRANT type_of_permission ON database_name.table_name TO 'username'@'localhost';</code></li>
  <li>REVOKE 權限：
<code class="language-plaintext highlighter-rouge">REVOKE type_of_permission ON database_name.table_name FROM 'username'@'localhost';</code></li>
  <li>reload all the privileges：<code class="language-plaintext highlighter-rouge">FLUSH PRIVILEGES;</code></li>
</ul>

<hr />

<p><strong>Reference</strong></p>

<ul>
  <li><a href="https://jqnets.com/blog/mac-%E9%9B%BB%E8%85%A6%E5%9F%B7%E8%A1%8C-php-mysql-phpmyadmin/">Mac 電腦執行 PHP &amp; MySQL &amp; phpMyadmin</a></li>
  <li><a href="https://www.itread01.com/content/1546243084.html">phpmyadmin 連線 MySQL8.0 報錯#2054 - The server requested authentication method unknown to the client</a></li>
  <li><a href="https://phoenixnap.com/kb/how-to-create-new-mysql-user-account-grant-privileges">How To Create New MySQL User and Grant Privileges</a></li>
  <li><a href="https://www.digitalocean.com/community/tutorials/how-to-create-a-new-user-and-grant-permissions-in-mysql">How To Create a New User and Grant Permissions in MySQL</a></li>
</ul>
 -->
    
    <div class="post-excerpt"><h4 id="1-啟動-apache">1. 啟動 Apache</h4>
</div>

    <div class="bookmark">
      <!-- <i class="far fa-comments"></i> -->
      <i class="fas fa-comments"></i>
      <span>
        


<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
var disqus_config = function () {
        // this.page.url = '/blog//sql/2021/08/16/%E5%9C%A8-Mac-%E6%9C%AC%E6%A9%9F%E5%AE%89%E8%A3%9D-MySQL-&-phpmyadmin/#disqus_thread';
        this.page.identifier = '/sql/2021/08/16/%E5%9C%A8-Mac-%E6%9C%AC%E6%A9%9F%E5%AE%89%E8%A3%9D-MySQL-&-phpmyadmin/';
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://mcshihs.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>



        <a href="/blog//sql/2021/08/16/%E5%9C%A8-Mac-%E6%9C%AC%E6%A9%9F%E5%AE%89%E8%A3%9D-MySQL-&-phpmyadmin/#disqus_thread" data-disqus-identifier="/sql/2021/08/16/%E5%9C%A8-Mac-%E6%9C%AC%E6%A9%9F%E5%AE%89%E8%A3%9D-MySQL-&-phpmyadmin/">0 Comments</a>
      </span>
    </div>
    
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/blog/git/2021/08/15/Github-%E6%96%B0%E7%9A%84-authentication-%E8%A8%AD%E5%AE%9A/">
        [Git]Github 新的 authentication 設定
      </a>
    </h1>

    <div class="post-info">
      <!-- <span class="post-date">Posted by Shihs on August 15, 2021</span> -->
      <i class="fas fa-calendar-alt"></i>
      <span class="post-date">August 15, 2021</span>
      <span class="post-categories">
      <!-- <i class="fas fa-tag"></i> -->
      <!-- <i class="far fa-book"></i> -->
      <i class="fas fa-box"></i>
      
      
        <a target="_blank" href="/blog/category/#Git">Git</a>
        
      
    </span>

    </div>
    <!-- <p>Github 從 8/13 開始將以前的 password 認證方式刪除了，這裡記錄我解決的方法。</p>

<ul>
  <li><a href="https://shihs.github.io/blog/2021/08/15/Github-%E6%96%B0%E7%9A%84-authentication-%E8%A8%AD%E5%AE%9A/#1-%E4%BD%BF%E7%94%A8-ssh">使用 ssh</a></li>
  <li><a href="https://shihs.github.io/blog/2021/08/15/Github-%E6%96%B0%E7%9A%84-authentication-%E8%A8%AD%E5%AE%9A/#2-%E4%BD%BF%E7%94%A8-personal-access-token">使用 personal access token</a></li>
</ul>

<hr />

<h3 id="1-使用-ssh">1. 使用 ssh</h3>

<p>情況：</p>

<p><img src="http://localhost:4000/blog/img/posts/git%20push.png" alt="" /></p>

<ul>
  <li>之前已 clone 下來的 repo</li>
  <li>修改後要 push 碰到下面的錯誤訊息</li>
</ul>

<pre><code class="language-bash=">remote: Support for password authentication was removed on August 13, 2021. Please use a personal access token instead.
remote: Please see https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/ for more information.
fatal: unable to access 'https://github.com/shihs/to-do-list-app.git/': The requested URL returned error: 403
</code></pre>

<p><strong>Step 1:</strong> Enabling two-factor authentication</p>

<ul>
  <li>根據錯誤訊息提供的<a href="https://github.blog/2020-12-15-token-authentication-requirements-for-git-operations/">網址</a>，先去 <strong>Enabling two-factor authentication</strong>，照著 <a href="https://docs.github.com/en/github/authenticating-to-github/securing-your-account-with-two-factor-authentication-2fa/configuring-two-factor-authentication-recovery-methods">Configuring two-factor authentication recovery methods</a> 的步驟做（裡面提到的 TOTP app 我是用 <a href="https://www.salesforce.com/solutions/mobile/app-suite/security/">Salesforce Authenticator</a>）。</li>
</ul>

<p><strong>Step 2:</strong> 加 ssh key</p>

<ul>
  <li>確認 github 是否已經加了 ssh key <code class="language-plaintext highlighter-rouge">ssh -t git@github.com</code>，如果沒加會出現像這樣的訊息<img src="http://localhost:4000/blog/img/posts/ssh%20test.png" alt="" /></li>
  <li>在本機 gen ssh key，並在 github 頁面新增 ssh key。我主要是參考下面兩個網址：
    <ul>
      <li><a href="https://blog.jaycetyle.com/2018/02/github-ssh/">Git 版本控制筆記 - 使用 github 及 ssh 金鑰設定</a></li>
      <li><a href="https://docs.github.com/cn/github/authenticating-to-github/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent#adding-your-ssh-key-to-the-ssh-agent">生成新 SSH 密钥并添加到 ssh-agent</a></li>
    </ul>
  </li>
  <li>完成之後在 terminal 打上 <code class="language-plaintext highlighter-rouge">ssh -t git@github.com</code> 會是
<img src="http://localhost:4000/blog/img/posts/ssh%20success.png" alt="" /></li>
</ul>

<p><strong>Step 3:</strong> 重新 push</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">git remote set-url origin git@github.com:[your-github-name]/[repo-name].git</code></li>
  <li>重新 add 和 commit 修改，就可以 push 了</li>
</ul>

<p>但這樣的方法還是很麻煩……每一支 reop 都要重新 <code class="language-plaintext highlighter-rouge">git remote set-url origin ...</code> 所以另一個方法是使用 <strong>personal access token</strong>。</p>

<p><strong>Reference</strong>:
<a href="https://www.youtube.com/watch?v=5Jz0wVmYUUE">GitHub Support for password authentication was removed (August 13, 2021) - Solution</a></p>

<hr />

<h2 id="2-使用-personal-access-token">2. 使用 personal access token</h2>

<p>這裡的方法是在 Mac 的操作。</p>

<p><strong>Step 1:</strong></p>

<ul>
  <li>參照 github 提供的方法，<a href="https://docs.github.com/en/github/authenticating-to-github/keeping-your-account-and-data-secure/creating-a-personal-access-token">Creating a personal access token</a>。
    <ul>
      <li><strong>Settings</strong> -&gt; <strong>Developer settings</strong> -&gt; <strong>Personal access tokens</strong> -&gt; <strong>Generate new token</strong></li>
    </ul>
  </li>
</ul>

<p><strong>Step 2:</strong> 將 create 出來的 token 加到「鑰匙圈」裡</p>

<ul>
  <li>使用 spotlight 搜尋「keychain」</li>
  <li>在 keychain 上搜尋「github」，找到 github
<img src="http://localhost:4000/blog/img/posts/keychain.png" alt="" width="70%" heigh="70%" /></li>
  <li>點選下方「顯示密碼」，並將密碼改成剛剛在 github 上 create 的 token
<img src="http://localhost:4000/blog/img/posts/add%20token.png" alt="" width="70%" heigh="70%" /></li>
</ul>

<p>現在可以任意地使用之前 clone 下來的 repo 了，不過如果剛剛 create token 有時間限制，之後必須要再重新建立新的密碼並修改。</p>

<p><strong>Reference</strong>:
<a href="https://www.youtube.com/watch?v=aKaYpl-ZpGg">Solved - Support for password authentication was removed - Github - Mac and Windows</a></p>
 -->
    
    <div class="post-excerpt"><p>Github 從 8/13 開始將以前的 password 認證方式刪除了，這裡記錄我解決的方法。</p>
</div>

    <div class="bookmark">
      <!-- <i class="far fa-comments"></i> -->
      <i class="fas fa-comments"></i>
      <span>
        


<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
var disqus_config = function () {
        // this.page.url = '/blog//git/2021/08/15/Github-%E6%96%B0%E7%9A%84-authentication-%E8%A8%AD%E5%AE%9A/#disqus_thread';
        this.page.identifier = '/git/2021/08/15/Github-%E6%96%B0%E7%9A%84-authentication-%E8%A8%AD%E5%AE%9A/';
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://mcshihs.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>



        <a href="/blog//git/2021/08/15/Github-%E6%96%B0%E7%9A%84-authentication-%E8%A8%AD%E5%AE%9A/#disqus_thread" data-disqus-identifier="/git/2021/08/15/Github-%E6%96%B0%E7%9A%84-authentication-%E8%A8%AD%E5%AE%9A/">0 Comments</a>
      </span>
    </div>
    
  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/blog/page2">Older</a>
  
  
    <span class="pagination-item newer">Newer</span>
  
</div>

    </div>
    <script id="dsq-count-scr" src="//mcshihs.disqus.com/count.js" async></script>
  </body>
</html>
