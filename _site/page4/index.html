<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>M.C. Shih &middot; BLOG</title>  
  

  <!-- CSS -->
  <link rel="stylesheet" href="/blog/public/css/poole.css">
  <link rel="stylesheet" href="/blog/public/css/syntax.css">
  <link rel="stylesheet" href="/blog/public/css/hyde.css">
  <link rel="stylesheet" href="/blog/public/css/custom.css">
  <link rel="stylesheet" href="/blog/public/css/fontawesome-all.css">
  <link rel="stylesheet" href="/blog/public/css/fontawesome-all.min.css">
  <!-- <link href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" rel="stylesheet"> -->


  <!--<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface"> -->

  <!-- Icons -->
  <link rel="apple-touch-icon" sizes="16x16" href="/blog/public/apple-touch-icon-16-precomposed.png">
  <link rel="apple-touch-icon" sizes="24x24" href="/blog/public/apple-touch-icon-24-precomposed.png">
  <link rel="apple-touch-icon" sizes="32x32" href="/blog/public/apple-touch-icon-32-precomposed.png">
  <link rel="apple-touch-icon" sizes="48x48" href="/blog/public/apple-touch-icon-48-precomposed.png">
  <link rel="apple-touch-icon" sizes="57x57" href="/blog/public/apple-touch-icon-57-precomposed.png">
  <link rel="apple-touch-icon" sizes="64x64" href="/blog/public/apple-touch-icon-64-precomposed.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/blog/public/apple-touch-icon-72-precomposed.png"> 
  <link rel="apple-touch-icon" sizes="114x114" href="/blog/public/apple-touch-icon-114-precomposed.png"> 
  <link rel="apple-touch-icon" sizes="120x120" href="/blog/public/apple-touch-icon-120-precomposed.png"> 
  <link rel="apple-touch-icon" sizes="144x144" href="/blog/public/apple-touch-icon-144-precomposed.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/blog/public/apple-touch-icon-152-precomposed.png">
  <link rel="apple-touch-icon" sizes="512x512" href="/blog/public/apple-touch-icon-512-precomposed.png">
  <link rel="shortcut icon" href="/blog/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/blogblog/atom.xml">
  <!-- 數學符號 -->
  <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
</head>


  <body>
  	
    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/blog/">
          M.C. Shih
        </a>
        <img src="/blog/img/headshot.png" alt="Author Image" class="headshot">
      </h1>
      <p class="lead">Just for learning.</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/blog/">Blog</a>

      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/blog/about/">About</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/blog/archive/">Archives</a>
          
        
      
        
      
        
          
            <a class="sidebar-nav-item" href="/blog/category/">Category</a>
          
        
      
        
          
        
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/blog/search/">Search</a>
          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      

    </nav>
    <div class="links">
      <ul>
        <li><a href="https://shihs.github.io" class="homepage" target="_blank"><img src="/blog/img/link%20icon/iconmonstr-home-6-240.png"></a></li>
        <li><a href="https://github.com/shihs" class="github" target="_blank"><img src="/blog/img/link%20icon/iconmonstr-github-3-240.png"></a></li>
        <li><a href="https://www.linkedin.com/in/min-chun-shih-6647779a/" class="linkedin" target="_blank"><img src="/blog/img/link%20icon/iconmonstr-linkedin-3-240.png"></a></li>
        <li><a href="https://www.instagram.com/itakephotos_tw/" class="instagram" target="_blank"><img src="/blog/img/link%20icon/iconmonstr-instagram-8-240.png"></a></li>
        <li><a href="https://www.flickr.com/photos/mcshihs/" class="flickr" target="_blank"><img src="/blog/img/link%20icon/iconmonstr-flickr-3-240.png"></a></li>
      </ul>
    </div>
    

    <p class = "rights">&copy; 2019. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="posts" id="begin">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/blog/r/2018/10/19/R-variable-types/">
        [R]variable types
      </a>
    </h1>

    <div class="post-info">
      <!-- <span class="post-date">Posted by Shihs on October 19, 2018</span> -->
      <i class="fas fa-calendar-alt"></i>
      <span class="post-date">October 19, 2018</span>
      <span class="post-categories">
      <!-- <i class="fas fa-tag"></i> -->
      <!-- <i class="far fa-book"></i> -->
      <i class="fas fa-box"></i>
      
      
        <a target="_blank" href="/blog/category/#R">R</a>
        
      
    </span>


    </div>
    <!-- <p>We know there are several common types in R, such as, vector, list, matrix, and data.frame.
<br />
Here I’m going to see these 4 types more details.</p>

<ol>
  <li>What are the differences between vector, list, matrix, and data.frame?</li>
  <li>What are the outputs of <code class="highlighter-rouge">is.atomic()</code> and <code class="highlighter-rouge">is.vector()</code>?</li>
  <li>What are the outputs of <code class="highlighter-rouge">typeof()</code>?</li>
</ol>

<hr />

<h3 id="1-what-are-the-differences-between-vector-list-matrix-and-dataframe">1. What are the differences between <em>vector</em>, <em>list</em>, <em>matrix</em>, and <em>data.frame</em>?</h3>

<p>We can seperate these four types to two groups from different aspects.</p>

<p><strong>(a) Elements type aspect</strong></p>
<ul>
  <li>Homogeneous data: <em>vector</em>, <em>matrix</em></li>
  <li>Heterogeneous data: <em>list</em>, <em>data.frame</em></li>
</ul>

<p>Which means all elements in <em>vector</em> and <em>matrix</em> have to be the same type (integer, double, or character ect.).
But elements in <em>list</em> and <em>data.frame</em> can be different types.</p>

<p>For example:
<br />
Vector has same type of elements</p>
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># vector</span><span class="w">
</span><span class="n">v</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="w">
</span><span class="c1">#  v</span><span class="w">
</span><span class="c1"># [1] 1 2 3 4</span><span class="w">

</span><span class="n">v_ch</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span><span class="w"> </span><span class="s2">"b"</span><span class="p">,</span><span class="w"> </span><span class="s2">"c"</span><span class="p">)</span><span class="w">
</span><span class="c1"># v_ch</span><span class="w">
</span><span class="c1"># [1] "a" "b" "c"</span><span class="w">
</span></code></pre></div></div>
<p>What if we give a vector different type of elements?</p>
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">v</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="s2">"2"</span><span class="p">)</span><span class="w">
</span><span class="c1"># v</span><span class="w">
</span><span class="c1">#[1] "1" "2"</span><span class="w">
</span></code></pre></div></div>
<p>As you can see, R forces 1 to be character.</p>

<p>But what is the priority? Why not “2” become numeric?</p>

<p>Because <strong>the hierarchy for coercion</strong> is:
<br /></p>
<ul>
  <li><strong>logical &lt; integer &lt; numeric &lt; character</strong></li>
</ul>

<p>So this is why numeric would be force to character.</p>

<p><a href="https://campus.datacamp.com/courses/introduction-to-r-for-finance/vectors-and-matrices?ex=3">reference</a></p>

<p><strong>(b) Dimension aspect</strong></p>
<ul>
  <li>1 Dimension: <em>vector</em>, <em>list</em></li>
  <li>2 Dimensions: <em>matrix</em>, <em>data.frame</em></li>
</ul>

<hr />

<h3 id="2-what-are-the-outputs-of-isatomic-and-isvector">2. What are the outputs of <code class="highlighter-rouge">is.atomic()</code> and <code class="highlighter-rouge">is.vector()</code>?</h3>

<p>Let’s see the outputs of these four types.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">v</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="w"> </span><span class="c1"># vector</span><span class="w">
</span><span class="n">l</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="p">)</span><span class="w"> </span><span class="c1"># list</span><span class="w">
</span><span class="n">mat</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="n">ncol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w"> </span><span class="c1"># matrix</span><span class="w">
</span><span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w"> </span><span class="c1"># data.frame</span><span class="w">
</span></code></pre></div></div>

<p><strong>(a) is.atomic()</strong></p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># &gt; is.atomic(v)</span><span class="w">
</span><span class="c1"># [1] TRUE</span><span class="w">
</span><span class="c1"># &gt; is.atomic(l)</span><span class="w">
</span><span class="c1"># [1] FALSE</span><span class="w">
</span><span class="c1"># &gt; is.atomic(mat)</span><span class="w">
</span><span class="c1"># [1] TRUE</span><span class="w">
</span><span class="c1"># &gt; is.atomic(df)</span><span class="w">
</span><span class="c1"># [1] FALSE</span><span class="w">
</span></code></pre></div></div>
<p>As you can see the results, <code class="highlighter-rouge">is.atomic()</code> gives boolean values.
<br />
And the output is to see if the object is <em>Homogeneous data</em> or <em>Hetergeneous data</em>.
<br />
Hence, <em>vector</em> and <em>matrix</em> get TRUE, <em>list</em> and <em>data.frame</em> get FALSE.</p>

<p><strong>(b) is.vector()</strong></p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># is.vector(v)</span><span class="w">
</span><span class="c1"># [1] TRUE</span><span class="w">
</span><span class="c1"># is.vector(l)</span><span class="w">
</span><span class="c1"># [1] TRUE</span><span class="w">
</span><span class="c1"># is.vector(mat)</span><span class="w">
</span><span class="c1"># [1] FALSE</span><span class="w">
</span><span class="c1"># is.vector(df)</span><span class="w">
</span><span class="c1"># [1] FALSE</span><span class="w">
</span></code></pre></div></div>
<p>In contrast with is.atomic(), <code class="highlighter-rouge">is.vector()</code> checks from Dimension aspect.</p>

<hr />

<h3 id="3-what-are-the-outputs-of-typeof">3. What are the outputs of <code class="highlighter-rouge">typeof()</code></h3>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># vector</span><span class="w">
</span><span class="n">v</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="w">  </span><span class="c1"># all elements are numeric</span><span class="w">
</span><span class="n">v_ch</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span><span class="w"> </span><span class="s2">"b"</span><span class="p">,</span><span class="w"> </span><span class="s2">"c"</span><span class="p">)</span><span class="w">  </span><span class="c1"># all elements are characters</span><span class="w">
</span><span class="c1"># list</span><span class="w">
</span><span class="n">l</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="p">)</span><span class="w">  </span><span class="c1"># all elements are numeric</span><span class="w">
</span><span class="n">l_ch</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"a"</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"b"</span><span class="p">)</span><span class="w"> </span><span class="c1"># all elements are characters</span><span class="w">
</span><span class="c1"># matrix</span><span class="w">
</span><span class="n">mat</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="n">ncol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">  </span><span class="c1"># all elements are numeric</span><span class="w">
</span><span class="n">mat_ch</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">matrix</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span><span class="w"> </span><span class="s2">"b"</span><span class="p">),</span><span class="w"> </span><span class="n">ncol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">  </span><span class="c1"># all elements are characters</span><span class="w">
</span><span class="c1"># data.frame</span><span class="w">
</span><span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>
<p>Let’s see the results,</p>
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ---vector-------------</span><span class="w">
</span><span class="c1"># &gt; typeof(v)</span><span class="w">
</span><span class="c1"># [1] "integer"</span><span class="w">
</span><span class="c1"># &gt; typeof(v_ch)</span><span class="w">
</span><span class="c1"># [1] "character"</span><span class="w">
</span><span class="c1"># ---list-------------</span><span class="w">
</span><span class="c1"># &gt; typeof(l)</span><span class="w">
</span><span class="c1"># [1] "list"</span><span class="w">
</span><span class="c1"># &gt; typeof(l_ch)</span><span class="w">
</span><span class="c1"># [1] "list"</span><span class="w">
</span><span class="c1"># ---matrix-------------</span><span class="w">
</span><span class="c1"># &gt; typeof(mat)</span><span class="w">
</span><span class="c1"># [1] "integer"</span><span class="w">
</span><span class="c1"># &gt; typeof(mat_ch)</span><span class="w">
</span><span class="c1"># [1] "character"</span><span class="w">
</span><span class="c1"># ---data.frame-------------</span><span class="w">
</span><span class="c1"># &gt; typeof(df)</span><span class="w">
</span><span class="c1"># [1] "list"</span><span class="w">
</span></code></pre></div></div>

<p>From the result of ouputs, we can see it checks if the object is <em>Homogeneous data</em> or not.
<br />
If it is <em>Homogeneous data</em> then <code class="highlighter-rouge">typeof()</code> will show the type of elements.
<br />
But if the object is <em>Hetergeneous data</em>, it will give only <em>list</em> as output result.</p>

<hr />

<p>More detail about Data Structure can be found <a href="http://adv-r.had.co.nz/Data-structures.html">here</a></p>

<p>Reference:
<br />
<a href="https://zhuanlan.zhihu.com/p/25551827">R深入|数据类型</a></p>

 -->
    <div class="post-excerpt"><p>We know there are several common types in R, such as, vector, list, matrix, and data.frame.
<br />
Here I’m going to see these 4 types more details.</p>

</div>
    <div class="bookmark">
      <!-- <i class="far fa-comments"></i> -->
      <i class="fas fa-comments"></i>
      <span>
        


<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
var disqus_config = function () {
        // this.page.url = '/blog//r/2018/10/19/R-variable-types/#disqus_thread';
        this.page.identifier = '/r/2018/10/19/R-variable-types/';
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://mcshihs.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>



        <a href="/blog//r/2018/10/19/R-variable-types/#disqus_thread" data-disqus-identifier="/r/2018/10/19/R-variable-types/">0 Comments</a>
      </span>

    </div>
    
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/blog/r/2018/10/04/R-RStudtio%E7%B7%A8%E7%A2%BC%E5%95%8F%E9%A1%8C/">
        [R]RStudtio編碼問題
      </a>
    </h1>

    <div class="post-info">
      <!-- <span class="post-date">Posted by Shihs on October 4, 2018</span> -->
      <i class="fas fa-calendar-alt"></i>
      <span class="post-date">October 4, 2018</span>
      <span class="post-categories">
      <!-- <i class="fas fa-tag"></i> -->
      <!-- <i class="far fa-book"></i> -->
      <i class="fas fa-box"></i>
      
      
        <a target="_blank" href="/blog/category/#R">R</a>
        
      
    </span>


    </div>
    <!-- <p>解決編碼問題可以說最惱人的事了……<br />
在使用中文或是其他歐語系語言時經常碰到編碼問題，這篇我根據我自己的一些經驗整理了一些在使用 RStudio 時解決編碼問題的辦法。</p>

<hr />

<p>根據我的經驗，我覺得編碼問題可以分成三種，</p>
<ol>
  <li>R 程式碼編碼問題</li>
  <li>檔案編碼問題</li>
  <li>系統編碼問題</li>
</ol>

<h3 id="1-r-程式碼編碼問題">1. R 程式碼編碼問題</h3>
<p>當你打開一份 R Script 時，發現 script 中的中文都是亂碼時，這時應該是這份 script 檔案的編碼與你電腦的 RScript 預設的不同。</p>

<p>這時選擇 File -&gt; Reopen with Encoding… 更改編碼(UTF-8、BIG5、ASCII試試)，問題應該就可以解決了。</p>

<p>或是可以直接更改預設的讀檔編碼，到 Tools -&gt; Global Options… -&gt; (左邊選單) Code -&gt; Saving 更改 Default text encoding。</p>

<h3 id="2-檔案編碼問題">2. 檔案編碼問題</h3>
<p>當你讀進一份檔案，可能碰到以下幾種狀況<br /></p>

<p>a. 讀檔時出現編碼錯誤<br />
解決方法： <br />
(1)讀檔時設定 fileEncoding：讀檔時提供檔案本身編碼資訊，<a href="https://shihs.github.io/blog/r/2018/01/17/R-read.csv出現編碼錯誤訊息/">參考</a><br /></p>

<p>(2)更改檔案編碼：先更改檔案本身的編碼，再使用 RStudio 讀取檔案。<br />
   如果是 Windows，我個人推薦直接使用記事本更改最方便。另存新檔直接存成需要的編碼。<br /></p>

<p>(3)更改預設讀檔編碼：如第一個提到的 R 程式碼編碼問題的解決方案，直接更改預設的編碼，設定成 UTF-8 應該是最好的。<br /></p>

<p>b. 順利讀進檔案，但無法正確顯示<br />
讀檔時，使用 encoding 參數來決定要顯示什麼語言</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">read.csv</span><span class="p">(</span><span class="s2">"filename.csv"</span><span class="p">,</span><span class="w"> </span><span class="n">encoding</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"latin1"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<h3 id="3-系統編碼問題">3. 系統編碼問題</h3>
<p>順利讀進檔案，已更改輸入時的編碼，但顯示仍舊錯誤。<br />
這問題是在讀一份含有瑞典文的檔案時碰到的，已經更改過檔案的編碼，但開啟後仍無法正確顯示瑞典文。</p>

<p>可以檢查一下系統本身的編碼是不是 UTF-8</p>
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">sessionInfo</span><span class="p">()</span><span class="w"> </span><span class="c1"># 裡的 local</span><span class="w">
</span><span class="c1"># 或是</span><span class="w">
</span><span class="n">Sys.getlocale</span><span class="p">()</span><span class="w">

</span><span class="c1"># MAC 會長得大概像這樣</span><span class="w">
</span><span class="c1"># "en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8"</span><span class="w">
</span></code></pre></div></div>
<p>如果不是，更改系統的語系，以下更改為 UTF-8</p>
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># for windows</span><span class="w">
</span><span class="n">Sys.setlocale</span><span class="p">(</span><span class="n">category</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"LC_ALL"</span><span class="p">,</span><span class="w"> </span><span class="n">locale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"UTF-8"</span><span class="p">)</span><span class="w">

</span><span class="c1"># for mac</span><span class="w">
</span><span class="n">Sys.setlocale</span><span class="p">(</span><span class="n">category</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"LC_ALL"</span><span class="p">,</span><span class="w"> </span><span class="n">locale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"en_US.UTF-8"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<hr />

<p>另外，要查看 vector 的編碼可以使用</p>
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># x is a vector</span><span class="w">
</span><span class="n">Encoding</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>我個人認為，解決編碼問題最重要的就是要先知道編碼出錯的問題在哪。<br />
是檔案本身編碼問題，還是系統的問題，那是要修改檔案還是要修改系統？<br /></p>

 -->
    <div class="post-excerpt"><p>解決編碼問題可以說最惱人的事了……<br />
在使用中文或是其他歐語系語言時經常碰到編碼問題，這篇我根據我自己的一些經驗整理了一些在使用 RStudio 時解決編碼問題的辦法。</p>

</div>
    <div class="bookmark">
      <!-- <i class="far fa-comments"></i> -->
      <i class="fas fa-comments"></i>
      <span>
        


<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
var disqus_config = function () {
        // this.page.url = '/blog//r/2018/10/04/R-RStudtio%E7%B7%A8%E7%A2%BC%E5%95%8F%E9%A1%8C/#disqus_thread';
        this.page.identifier = '/r/2018/10/04/R-RStudtio%E7%B7%A8%E7%A2%BC%E5%95%8F%E9%A1%8C/';
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://mcshihs.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>



        <a href="/blog//r/2018/10/04/R-RStudtio%E7%B7%A8%E7%A2%BC%E5%95%8F%E9%A1%8C/#disqus_thread" data-disqus-identifier="/r/2018/10/04/R-RStudtio%E7%B7%A8%E7%A2%BC%E5%95%8F%E9%A1%8C/">0 Comments</a>
      </span>

    </div>
    
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/blog/algorithm/2018/09/28/Algorithm-Hamiltonian-path-and-Travelling-Salesman-Problem(TSP)/">
        [Algorithm]Hamiltonian path and Travelling Salesman Problem(TSP)
      </a>
    </h1>

    <div class="post-info">
      <!-- <span class="post-date">Posted by Shihs on September 28, 2018</span> -->
      <i class="fas fa-calendar-alt"></i>
      <span class="post-date">September 28, 2018</span>
      <span class="post-categories">
      <!-- <i class="fas fa-tag"></i> -->
      <!-- <i class="far fa-book"></i> -->
      <i class="fas fa-box"></i>
      
      
        <a target="_blank" href="/blog/category/#Algorithm">Algorithm</a>
        
      
    </span>


    </div>
    <!-- <p>以下簡單地整理網路上查到的 Hamiltonian path 與 Travelling Salesman Problem 介紹。</p>

<hr />

<h3 id="hamiltonian-path">Hamiltonian path</h3>

<p><strong>What is Hamiltonian path?</strong><br />
<a href="https://en.wikipedia.org/wiki/Hamiltonian_path">Hamiltonian path</a> is a path that visit every node only once. It can be an undirected or directed graph. Also it</p>

<p><strong>Hamiltonian cycle</strong><br />
If a Hamiltonian path is a cycle then we call it A Hamiltonian cycle (or Hamiltonian circuit).</p>

<p><strong>Hamiltonian path problem</strong><br />
Determining whether such paths and cycles exist in graphs is the Hamiltonian path problem, which is NP-complete</p>

<hr />

<h3 id="travelling-salesman-problem">Travelling Salesman Problem</h3>

<p><strong>What is Travelling Salesman Problem(TSP)?</strong><br />
There is a man traveling. He departures from a city and he wants to visit every cities(nods) with the shortest distance. In the end, he will go back to the origin city, and he can only stop in each city once.</p>

<p>Which means, TSP is looking for the shortest distance of <em>Hamiltonian cycle</em>.</p>

<hr />

<p>reference:<br />
<a href="http://www.csie.ntnu.edu.tw/~u91029/Circuit.html">演算法筆記</a><br />
<a href="https://en.wikipedia.org/wiki/Travelling_salesman_problem">Wikipedia - TSP</a><br />
<a href="https://en.wikipedia.org/wiki/Hamiltonian_path">Wikipedia - Hamiltonian path</a><br /></p>
 -->
    <div class="post-excerpt"><p>以下簡單地整理網路上查到的 Hamiltonian path 與 Travelling Salesman Problem 介紹。</p>

</div>
    <div class="bookmark">
      <!-- <i class="far fa-comments"></i> -->
      <i class="fas fa-comments"></i>
      <span>
        


<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
var disqus_config = function () {
        // this.page.url = '/blog//algorithm/2018/09/28/Algorithm-Hamiltonian-path-and-Travelling-Salesman-Problem(TSP)/#disqus_thread';
        this.page.identifier = '/algorithm/2018/09/28/Algorithm-Hamiltonian-path-and-Travelling-Salesman-Problem(TSP)/';
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://mcshihs.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>



        <a href="/blog//algorithm/2018/09/28/Algorithm-Hamiltonian-path-and-Travelling-Salesman-Problem(TSP)/#disqus_thread" data-disqus-identifier="/algorithm/2018/09/28/Algorithm-Hamiltonian-path-and-Travelling-Salesman-Problem(TSP)/">0 Comments</a>
      </span>

    </div>
    
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/blog/r/2018/09/27/R-scale-%E8%88%87-dist-function/">
        [R]scale 與 dist function
      </a>
    </h1>

    <div class="post-info">
      <!-- <span class="post-date">Posted by Shihs on September 27, 2018</span> -->
      <i class="fas fa-calendar-alt"></i>
      <span class="post-date">September 27, 2018</span>
      <span class="post-categories">
      <!-- <i class="fas fa-tag"></i> -->
      <!-- <i class="far fa-book"></i> -->
      <i class="fas fa-box"></i>
      
      
        <a target="_blank" href="/blog/category/#R">R</a>
        
      
    </span>


    </div>
    <!-- <p>這篇文章會介紹 R 中的 scale 與 dist 兩個 function。</p>

<p>在做資料分析前會需要先標準化</p>

<hr />

<h3 id="scale">scale</h3>
<p>scale 的主要作用在標準化數據，共有三個 arguments，</p>
<ul>
  <li>x: 必須要是 matrix，以「行」為每組數據計算</li>
  <li>center: TRUE or FALSE。中心化，TRUE 會減去數據的平均值</li>
  <li>scale: TRUE or FALSE。 TRUE 會將數據中的每個值除以數據的標準差</li>
</ul>

<p>預設 center 和 scale 都是 TRUE，也就是算出來的值是 <a href="https://zh.wikipedia.org/wiki/標準分數">z-score</a>。</p>

<blockquote>

  <p>\(z = \frac{x - \mu}{\sigma}, \sigma \neq 0\)</p>
</blockquote>

<p>其中：<br />
\(x\)：數據<br />
\(\mu\)：平均值<br />
\(\sigma\)：標準差</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="n">nrow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span><span class="p">)</span><span class="w">

</span><span class="n">scale</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<hr />

<h3 id="dist">dist</h3>
<p>dist 是在算數據間的距離，主要的 arguments有</p>
<ul>
  <li>x: 可以是 matrix, data.frame ，但必須要是 numeric。</li>
  <li>methods: 共有六種計算距離的方法，”euclidean”, “maximum”, “manhattan”, “canberra”, “binary” 和 “minkowski”，預設是使用 euclidean 距離。</li>
</ul>

<p>以「列」為數據，兩兩計算，</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="n">nrow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span><span class="p">)</span><span class="w">

</span><span class="n">dist</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

 -->
    <div class="post-excerpt"><p>這篇文章會介紹 R 中的 scale 與 dist 兩個 function。</p>

</div>
    <div class="bookmark">
      <!-- <i class="far fa-comments"></i> -->
      <i class="fas fa-comments"></i>
      <span>
        


<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
var disqus_config = function () {
        // this.page.url = '/blog//r/2018/09/27/R-scale-%E8%88%87-dist-function/#disqus_thread';
        this.page.identifier = '/r/2018/09/27/R-scale-%E8%88%87-dist-function/';
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://mcshihs.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>



        <a href="/blog//r/2018/09/27/R-scale-%E8%88%87-dist-function/#disqus_thread" data-disqus-identifier="/r/2018/09/27/R-scale-%E8%88%87-dist-function/">0 Comments</a>
      </span>

    </div>
    
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/blog/r/2018/09/14/R-%E5%A6%82%E4%BD%95%E5%9C%A8R-Package%E5%8A%A0%E4%B8%8Acode-coverage-(codecov)/">
        [R]如何在R Package加上code coverage (codecov)?
      </a>
    </h1>

    <div class="post-info">
      <!-- <span class="post-date">Posted by Shihs on September 14, 2018</span> -->
      <i class="fas fa-calendar-alt"></i>
      <span class="post-date">September 14, 2018</span>
      <span class="post-categories">
      <!-- <i class="fas fa-tag"></i> -->
      <!-- <i class="far fa-book"></i> -->
      <i class="fas fa-box"></i>
      
      
        <a target="_blank" href="/blog/category/#R">R</a>
        
      
    </span>


    </div>
    <!-- <p><a href="https://zh.wikipedia.org/wiki/代碼覆蓋率">code coverage</a>(代碼覆蓋率)?</p>

<p>這篇是根據<a href="https://walczak.org/2017/06/how-to-add-code-coverage-codecov-to-your-r-package/">這篇</a>的步驟操作。
如果要找 package 內容物該有的東西可以參考我完成的一個 <a href="https://github.com/shihs/LiUAdRLab3">R package</a>。</p>

<p>以下會將步驟一一列下。</p>

<hr />

<h3 id="1-完成-r-package-與建立-test-測試">1. 完成 R package 與建立 test 測試</h3>
<p>建立 <a href="http://r-pkgs.had.co.nz">R package</a> 可以參考大神的書，test 則可以參考這本書的 <a href="http://r-pkgs.had.co.nz/tests.html">testing 章節</a>。</p>

<p>基本上使用，</p>
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">devtools</span><span class="o">::</span><span class="n">use_testthat</span><span class="p">()</span><span class="w">
</span></code></pre></div></div>
<p>就會自己建立一個 <a href="https://github.com/shihs/LiUAdRLab3/tree/master/tests">tests 資料夾</a>，再把要測試的程式碼加進下一層的 <a href="https://github.com/shihs/LiUAdRLab3/tree/master/tests/testthat">testthat 資料夾</a>內。</p>

<p>最後進行測試，</p>
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">devtools</span><span class="o">::</span><span class="n">test</span><span class="p">()</span><span class="w">
</span></code></pre></div></div>

<hr />

<h3 id="2-建立所有-code-coverage-需要的檔案與內容">2. 建立所有 code coverage 需要的檔案與內容</h3>

<p>先跑一下程式碼，</p>
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">devtools</span><span class="o">::</span><span class="n">use_coverage</span><span class="p">()</span><span class="w">
</span></code></pre></div></div>

<p>跑完後會出現以下的步驟提示，</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>* Creating `codecov.yml` from template.
* Adding `codecov.yml` to `.Rbuildignore`.
* Add to `README.md`: 
[![Coverage Status](https://img.shields.io/codecov/c/github/shihs/LiUAdRLab3/master.svg)](https://codecov.io/github/shihs/LiUAdRLab3?branch=master)
* Add to `.travis.yml`:
after_success:
  - Rscript -e 'covr::codecov()'
</code></pre></div></div>

<p>基本上就一步一步照著做就對了，前面兩件事程式已經幫你處理好了，<br />
從第三步開始就行。</p>

<hr />

<h3 id="3-將-github-與-codecov-連結">3. 將 Github 與 codecov 連結</h3>

<p>使用 Github 帳號登入 <a href="https://codecov.io">codecov.io </a>。</p>

<p>連結你要使用 codecov 的 reposity，
會出現像這樣的<a href="https://walczak.org/wp-content/uploads/2017/06/token.png">畫面</a>得到一組 token，
將 token 複製，在 R 中跑以下程式碼，</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">install.packages</span><span class="p">(</span><span class="s2">"covr"</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">covr</span><span class="p">)</span><span class="w">
</span><span class="n">codecov</span><span class="p">(</span><span class="n">token</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"YOUR_TOKEN_GOES_HERE"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>大功告成！</p>

<p>這時候會看到你剛剛貼上的 coverage 圖案出現 code coverage 的結果。</p>

<hr />

<p>如果想要先在 R studio 上看測試結果可以使用，</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">library</span><span class="w"> </span><span class="p">(</span><span class="n">covr</span><span class="p">)</span><span class="w">
</span><span class="n">report</span><span class="p">()</span><span class="w">
</span></code></pre></div></div>

<p>viewer 視窗就會顯示測試結果了。</p>

 -->
    <div class="post-excerpt"><p><a href="https://zh.wikipedia.org/wiki/代碼覆蓋率">code coverage</a>(代碼覆蓋率)?</p>

</div>
    <div class="bookmark">
      <!-- <i class="far fa-comments"></i> -->
      <i class="fas fa-comments"></i>
      <span>
        


<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
var disqus_config = function () {
        // this.page.url = '/blog//r/2018/09/14/R-%E5%A6%82%E4%BD%95%E5%9C%A8R-Package%E5%8A%A0%E4%B8%8Acode-coverage-(codecov)/#disqus_thread';
        this.page.identifier = '/r/2018/09/14/R-%E5%A6%82%E4%BD%95%E5%9C%A8R-Package%E5%8A%A0%E4%B8%8Acode-coverage-(codecov)/';
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://mcshihs.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>



        <a href="/blog//r/2018/09/14/R-%E5%A6%82%E4%BD%95%E5%9C%A8R-Package%E5%8A%A0%E4%B8%8Acode-coverage-(codecov)/#disqus_thread" data-disqus-identifier="/r/2018/09/14/R-%E5%A6%82%E4%BD%95%E5%9C%A8R-Package%E5%8A%A0%E4%B8%8Acode-coverage-(codecov)/">0 Comments</a>
      </span>

    </div>
    
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/blog/r/git/2018/09/08/R-Git-%E5%A6%82%E4%BD%95%E9%80%A3%E6%8E%A5Rstudio%E8%88%87githu/">
        [R][Git]如何在 Rstudio 上連接 R project 與 Github
      </a>
    </h1>

    <div class="post-info">
      <!-- <span class="post-date">Posted by Shihs on September 8, 2018</span> -->
      <i class="fas fa-calendar-alt"></i>
      <span class="post-date">September 8, 2018</span>
      <span class="post-categories">
      <!-- <i class="fas fa-tag"></i> -->
      <!-- <i class="far fa-book"></i> -->
      <i class="fas fa-box"></i>
      
      
        <a target="_blank" href="/blog/category/#R">R</a>
        &nbsp;
      
        <a target="_blank" href="/blog/category/#Git">Git</a>
        
      
    </span>


    </div>
    <!-- <p>本篇介紹如何將 Rstudio 中的 R project 與 Github 連結，讓每次專案在進行中都可以簡單快速的 commit 與 push。</p>

<p>在進入主題前，請先安裝好 R、Rstudio 和 Git ，並且申請好 Github 帳號。</p>

<hr />

<h2 id="前置作業">前置作業</h2>
<p><strong>設置 SSH RSA key</strong></p>

<p>1.複製 public key<br />
Tool &gt; Global Options &gt; Git/SVN &gt; Create RSA Key &gt; View public key <br />
點開 View public key 後，複製裡頭所有的東西。</p>

<p><img src="http://localhost:4000/blog/img/posts/Rstudio%20SSH.png" alt="Rstudio SSH.png" /></p>

<p>2.將 public key 貼到 github</p>

<p><img src="http://localhost:4000/blog/img/posts/github%20ssh.png" alt="github ssh.png" /></p>

<hr />

<h2 id="開始建立-connection">開始建立 connection</h2>

<p><strong>建立專案</strong></p>

<p>請先建立一個專案，這裡就不多加解釋了。</p>

<p><strong>在本機建立 repository</strong></p>

<p>Build &gt; Configure public Tools &gt; Git/SVN<br />
將 Version control system 由 None 改為 Git</p>

<p><img src="http://localhost:4000/blog/img/posts/version%20control%20system.png" alt="version control system.png" /></p>

<p>這時候就會發現 Rstudio 的視窗長得不太一樣了。</p>

<p><img src="http://localhost:4000/blog/img/posts/rstudio%20git.png" alt="rstudio git.png" /></p>

<p>下方視窗應該會有一些還未 commit 的檔案，但因為我都已經 commit 了，所以沒有內容。<br />
且這時候 pull 和 push 鍵應該還無法操作。</p>

<p><strong>Github 同步</strong></p>

<p>終於來到最後一哩路。</p>

<p>到 Github 上創建一個新的 repository，且名稱要和 project 相同，只要單純創建 repository 就好，什麼檔案都不要。</p>

<p>最後，打開 Rstudio 工具列的， Tools &gt; Shell</p>

<p>然後在 Shell 裡輸入，</p>
<pre><code class="language-git">git remote add origin https://github.com/你的github帳號/你的專案名稱.git
git push -u origin master
</code></pre>

<p>完成後就會發現專案已經和 Github 連結了！專案的檔案都出現在 Github 上了。<br />
這時候 pull 和 push 鍵也已經可以操作了。</p>

<p>未來只要更新專案內容，就可以直接在 Rstudio 上 commit 和 push 就好了！</p>

<hr />

<p><strong>補充</strong></p>

<p>移除 project 與該 repository 的 connection <code class="highlighter-rouge">rm -rf .git</code></p>

<hr />
<p>參考：</p>

<ul>
  <li>Hadley Wickham 的 <a href="http://r-pkgs.had.co.nz/git.html">R Package Git 章節</a></li>
</ul>

 -->
    <div class="post-excerpt"><p>本篇介紹如何將 Rstudio 中的 R project 與 Github 連結，讓每次專案在進行中都可以簡單快速的 commit 與 push。</p>

</div>
    <div class="bookmark">
      <!-- <i class="far fa-comments"></i> -->
      <i class="fas fa-comments"></i>
      <span>
        


<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
var disqus_config = function () {
        // this.page.url = '/blog//r/git/2018/09/08/R-Git-%E5%A6%82%E4%BD%95%E9%80%A3%E6%8E%A5Rstudio%E8%88%87githu/#disqus_thread';
        this.page.identifier = '/r/git/2018/09/08/R-Git-%E5%A6%82%E4%BD%95%E9%80%A3%E6%8E%A5Rstudio%E8%88%87githu/';
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://mcshihs.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>



        <a href="/blog//r/git/2018/09/08/R-Git-%E5%A6%82%E4%BD%95%E9%80%A3%E6%8E%A5Rstudio%E8%88%87githu/#disqus_thread" data-disqus-identifier="/r/git/2018/09/08/R-Git-%E5%A6%82%E4%BD%95%E9%80%A3%E6%8E%A5Rstudio%E8%88%87githu/">0 Comments</a>
      </span>

    </div>
    
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/blog/%E7%B5%B1%E8%A8%88/2018/09/04/%E7%B5%B1%E8%A8%88-%E4%BB%80%E9%BA%BC%E6%98%AFCDF/">
        [統計]什麼是 CDF (Cumulative Distribution Function)?
      </a>
    </h1>

    <div class="post-info">
      <!-- <span class="post-date">Posted by Shihs on September 4, 2018</span> -->
      <i class="fas fa-calendar-alt"></i>
      <span class="post-date">September 4, 2018</span>
      <span class="post-categories">
      <!-- <i class="fas fa-tag"></i> -->
      <!-- <i class="far fa-book"></i> -->
      <i class="fas fa-box"></i>
      
      
        <a target="_blank" href="/blog/category/#統計">統計</a>
        
      
    </span>


    </div>
    <!-- <p>在進入連續型隨機變數（Continuous Random Variable）前先插播介紹何謂 CDF。</p>

<hr />

<h3 id="cdf-cumulative-distribution-function">CDF (Cumulative Distribution Function)</h3>
<p><strong>定義 Definition</strong></p>

<ul>
  <li>The cumulative distribution function (CDF) of random variable \(X\) is defined as</li>
</ul>

<script type="math/tex; mode=display">F_X(x) = P(X \leq x), \forall x \in {\Bbb R}</script>

<p><a href="https://www.probabilitycourse.com/chapter3/3_2_1_cdf.php">Source</a></p>

<blockquote>

  <p>Mathematical Statistics with Applications 這本書將 CDF 稱為 distribution function，<br />
<a href="https://zh.wikipedia.org/wiki/累积分布函数">wikipedia</a> 則翻譯為<strong>累積分布函數</strong>。</p>
</blockquote>

<p>以下再分 <em>1.離散型函數</em> 與 <em>2.連續型函數</em> 來看，</p>

<hr />
<h3 id="離散型隨機變數的-cdf">離散型隨機變數的 CDF</h3>

<p>以擲兩枚硬幣為例，出現 head 為 1，tail 為 0，<br />
其隨機變數 \(X\) 的 PMF 函數為</p>

<script type="math/tex; mode=display">% <![CDATA[
P_X(x) = \left\{ \begin{array}{rcl}
1/4,& \;for\; x = 0 \\
1/2,& \;for\; x = 1 \\
1/4,& \;for\; x = 2 \\
0,& otherwise \\
\end{array}\right. %]]></script>

<p>PMF 函數圖為，
<img src="http://localhost:4000/blog/img/posts/PMF_two%20coins.png" alt="PMF_two coins.png" /></p>

<p>則它的 CDF 累積分佈函數為
<script type="math/tex">% <![CDATA[
F_X(x) = \left\{ \begin{array}{rcl}
0,& &for\; x < 0 \\
1/4,& &for\; 0 \leq x < 1 \\
3/4,& &for\; 1 \leq x < 2 \\
1,&  &for\; x \geq 2\\
\end{array}\right. %]]></script></p>

<p>CDF 函數圖為，
<img src="http://localhost:4000/blog/img/posts/CDF_two%20coins.png" alt="CDF_two coins.png" /></p>

<p>可以發現，離散型的 CDF \(F_X(x)\) 為不連續的函數圖。</p>

<p>關於離散型的 CDF 這<a href="https://www.probabilitycourse.com/videos/chapter3/video3_5.php">影片</a>有更詳細的說明。</p>

<hr />
<h3 id="連續型隨機變數的-cdf">連續型隨機變數的 CDF</h3>

<p>那如果今天有個隨機變數 \(X\)，它的 CDF \(F(X)\) 為連續函數呢？<br /></p>

<p><strong>定義 Definition</strong></p>
<ul>
  <li>A random variable \(X\) with CDF \(F(X)\) is said to be continuous if \(F(X)\) is a continuous function for all \(X \in {\Bbb R} \). <a href="https://www.probabilitycourse.com/chapter4/4_1_0_continuous_random_vars_distributions.php">Source</a></li>
</ul>

<hr />
<p>參考：</p>

<ul>
  <li><a href="https://www.probabilitycourse.com">Introduce To Proability, Statistics and Random Process</a></li>
</ul>

<hr />
 -->
    <div class="post-excerpt"><p>在進入連續型隨機變數（Continuous Random Variable）前先插播介紹何謂 CDF。</p>

</div>
    <div class="bookmark">
      <!-- <i class="far fa-comments"></i> -->
      <i class="fas fa-comments"></i>
      <span>
        


<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
var disqus_config = function () {
        // this.page.url = '/blog//%E7%B5%B1%E8%A8%88/2018/09/04/%E7%B5%B1%E8%A8%88-%E4%BB%80%E9%BA%BC%E6%98%AFCDF/#disqus_thread';
        this.page.identifier = '/%E7%B5%B1%E8%A8%88/2018/09/04/%E7%B5%B1%E8%A8%88-%E4%BB%80%E9%BA%BC%E6%98%AFCDF/';
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://mcshihs.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>



        <a href="/blog//%E7%B5%B1%E8%A8%88/2018/09/04/%E7%B5%B1%E8%A8%88-%E4%BB%80%E9%BA%BC%E6%98%AFCDF/#disqus_thread" data-disqus-identifier="/%E7%B5%B1%E8%A8%88/2018/09/04/%E7%B5%B1%E8%A8%88-%E4%BB%80%E9%BA%BC%E6%98%AFCDF/">0 Comments</a>
      </span>

    </div>
    
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/blog/%E7%B5%B1%E8%A8%88/2018/09/04/%E7%B5%B1%E8%A8%88-%E9%9B%A2%E6%95%A3%E5%9E%8B(Discrete)%E9%9A%A8%E6%A9%9F%E8%AE%8A%E6%95%B8%E8%88%87%E5%85%B6%E6%A9%9F%E7%8E%87%E5%88%86%E4%BD%88(3)/">
        [統計]離散型(Discrete)隨機變數與其機率分佈(3)
      </a>
    </h1>

    <div class="post-info">
      <!-- <span class="post-date">Posted by Shihs on September 4, 2018</span> -->
      <i class="fas fa-calendar-alt"></i>
      <span class="post-date">September 4, 2018</span>
      <span class="post-categories">
      <!-- <i class="fas fa-tag"></i> -->
      <!-- <i class="far fa-book"></i> -->
      <i class="fas fa-box"></i>
      
      
        <a target="_blank" href="/blog/category/#統計">統計</a>
        
      
    </span>


    </div>
    <!-- <p>這一系列我是以 
Wackerley, Mendenhall and Scheaffer 的 <br />
Mathematical Statistics with Applications, 7th edition 這本書為主，<br />
有些名詞與定理解釋會再參考其他書籍與網路作為輔助（下方有參考連結）。</p>

<p>這一篇要介紹常見的離散型分佈（Discrete Distribution），這篇主要是參考  <a href="https://www.probabilitycourse.com/chapter3/3_1_5_special_discrete_distr.php">Source</a></p>

<hr />
<h3 id="伯努利分佈-bernoulli-distribution">伯努利分佈 Bernoulli Distribution</h3>
<p><strong>定義 Definition</strong></p>

<ul>
  <li>A random variable \(X\) is said to be a <em>bernoulli</em> random variable with peremeter \(p\), shown as <strong>\(X \sim Bernoulli(p)\)</strong>, if its PMF is given by</li>
</ul>

<script type="math/tex; mode=display">% <![CDATA[
P_X(x) = \left\{ \begin{array}{rcl}
p,& \;for\; x = 1 \\
1-p,& \;for\; x = 0 \\
0,& otherwise \\
\end{array}\right. %]]></script>

<ul>
  <li>where \(0 &lt; p &lt; 1\)</li>
</ul>

<p>簡單來說，一個事件只有兩種可能。<br /></p>

<p>生活中有非常多的例子都會是 Bernoulli Distribution，譬如，</p>
<ol>
  <li>考試有及格、不及格</li>
  <li>丟擲一枚銅板有正面、反面</li>
  <li>小孩子性別可能是男生、女生</li>
</ol>

<p><img src="http://localhost:4000/blog/img/posts/Bernoulli.png" alt="Bernoulli.png" /></p>

<hr />
<h3 id="幾何分布-geometric-distribution">幾何分布 Geometric Distribution</h3>
<p><strong>定義 Definition</strong></p>

<ul>
  <li>A random variable \(X\) is said to be a <em>geometric</em> random variable with peremeter \(p\), shown as <strong>\(X \sim Geometric(p)\)</strong>, if its PMF is given by</li>
</ul>

<script type="math/tex; mode=display">% <![CDATA[
P_X(x) = \left\{ \begin{array}{rcl}
p(1-p)^{k-1},& \;for\; k = 1, 2, 3,...... \\
0,& otherwise \\
\end{array}\right. %]]></script>

<ul>
  <li>where \(0 &lt; p &lt; 1\)</li>
</ul>

<p>Geometric Distribution 的例子：擲一枚銅板，且此銅板擲到 Head 的機率為 \(p\)。今天擲這枚到出現第一個 Head 為止，則其機率分佈為 Geometric Distribution。<br />
另外，每一次擲這枚銅板都會是獨立的 Bernoulli 試驗。</p>

<p>所以，Geometric Distribution 就是很多次的 Bernoulli 試驗直到成功為止。</p>

<p>以 \(p = 0.3\) 為例，其 Geometric Distribution 的 PMF 會是這樣，</p>

<p><img src="http://localhost:4000/blog/img/posts/Geometric.png" alt="Geometric.png" /></p>

<hr />
<h3 id="二項分布-binomial-distribution">二項分布 Binomial Distribution</h3>
<p><strong>定義 Definition</strong></p>

<ul>
  <li>A random variable \(X\) is said to be a <em>binomial</em> random variable with peremeter \(n\) and \(p\), shown as <strong>\(X \sim Binomial(n, p)\)</strong>, if its PMF is given by</li>
</ul>

<script type="math/tex; mode=display">% <![CDATA[
P_X(x) = \left\{ \begin{array}{rcl}
\left( \begin{array}{c} n \\ k \end{array} \right) p^k(1-p)^{n-k},& \;for\; k = 0, 1, 2,..., n \\
0,& otherwise \\
\end{array}\right. %]]></script>

<ul>
  <li>where \(0 &lt; p &lt; 1\)</li>
</ul>

<p>Binomial Distribution 也是很多次獨立 Bernoulli 試驗的結果，但和 Geometric Distribution 不一樣的是，Binomial Distribution 會執行 \(n\) 次的 Bernoulli 試驗，且成功了 \(k\) 次。</p>

<p>所以它的 PMF 會有 <script type="math/tex">\left( \begin{array}{c} n \\ k \end{array} \right)</script>，表示執行了\(n\) 次，其中有 \(k\) 次成功，且這 \(k\) 次並沒有限定在哪個位置。</p>

<p>可以以丟擲 \(n\) 枚銅板來想，其中 \(k\) 枚硬幣為 Head，\((n-k)\) 為 Tail。</p>

<p>以 \(n = 10,\; p = 0.3\) 為例，其 PMF 圖會是，</p>

<p><img src="http://localhost:4000/blog/img/posts/Binomial.png" alt="Binomial.png" /></p>

<p><strong>Binomial random variable as a sum of Bernoulli random variables</strong></p>

<ul>
  <li>If \(X_1,\;X_2,\;X_3,…,\;X_n\) are independent \(Bernoulli(p)\) random variable,  then the random variable \(X\) defined by \(X = X_1 + X_2 + X_3 + … + X_n\) has a \(Binomial(n,p)\) distribution.</li>
</ul>

<p>也就是，二項分布可以看成是每個獨立的伯努利分佈的和。</p>

<hr />
<h3 id="布瓦松分布-poisson-distribution">布瓦松分布 Poisson Distribution</h3>
<p><strong>定義 Definition</strong></p>

<ul>
  <li>A random variable \(X\) is said to be a <em>poisson</em> random variable with peremeter \(\lambda\), shown as <strong>\(X \sim Poisson(\lambda)\)</strong>, if its range is \(R_X = \{ 0, 1, 2, 3,… \} \), and if its PMF is given by</li>
</ul>

<script type="math/tex; mode=display">% <![CDATA[
P_X(x) = \left\{ \begin{array}{rcl}
\frac{e^{-\lambda} \lambda^k}{k!} ,& k \in R_X \\
0,& otherwise \\
\end{array}\right. %]]></script>

<p>Poisson Distribution 的意義為：單位時間內，事件出現平均 \(lambda\) 次的機率分布。</p>

<p>既然上面的式子為 PMF，那我們來檢驗
<strong>\(\sum_{k \in R_X}{P_k(x)} = 1\)</strong>
是否正確。</p>

<script type="math/tex; mode=display">% <![CDATA[
\begin{align}
\sum_{k \in R_X}{P_k(x)} &= \sum_{k=0}^{\infty} \frac{e^{-\lambda} \lambda^k}{k!} \\
&= e^{-\lambda} \sum_{k=0}^{\infty} \frac{\lambda^k}{k!} \\
\end{align} %]]></script>

<blockquote>

  <p>Note: 根據 Taylor Series(泰勒展開式) <strong>\(\; e^{x} = \sum_{k=0}^{\infty} \frac{x^k}{k!}\)</strong>，上列式子可以寫成，</p>
</blockquote>

<script type="math/tex; mode=display">% <![CDATA[
\begin{align}
&= e^{-\lambda} e^{\lambda} \\
&= 1 \\
\end{align} %]]></script>

<p><strong>Example:</strong></p>

<blockquote>

  <p>The number of emails that I get in a weekday can be modeled by a Poisson distribution with an average of 0.2 emails per minute.</p>
  <ol>
    <li>What is the probability that I get no emails in an interval of length 5 minutes?</li>
    <li>What is the probability that I get more than 3 emails in an interval of length 10 minutes?</li>
  </ol>
</blockquote>

<p><strong>Poisson as an approximation for binomial</strong></p>
<ul>
  <li>Let \(X \sim Binomial(n, p = \frac{\lambda}{n})\), where \(\lambda &gt; 0\) is fixed. Then for any \(k \in {0, 1, 2,…} \), we have</li>
</ul>

<script type="math/tex; mode=display">\lim_{n \rightarrow \infty} P_X(k) = \frac{e^{-\lambda} \lambda^k}{k!}</script>

<p>\(X \sim Poisson(\lambda = 5)\) 的函數圖形，</p>

<p><img src="http://localhost:4000/blog/img/posts/Poisson.png" alt="Poisson.png" /></p>

<hr />
<p>參考：</p>

<ul>
  <li><a href="https://www.amazon.com/Mathematical-Statistics-Applications-Dennis-Wackerly/dp/0495110817">Mathematical Statistics with Applications 7th Edition</a></li>
  <li><a href="https://www.probabilitycourse.com">Introduce To Proability, Statistics and Random Process</a></li>
  <li><a href="http://ccckmit.wikidot.com/st:main">陳鍾誠的網站</a></li>
</ul>
 -->
    <div class="post-excerpt"><p>這一系列我是以 
Wackerley, Mendenhall and Scheaffer 的 <br />
Mathematical Statistics with Applications, 7th edition 這本書為主，<br />
有些名詞與定理解釋會再參考其他書籍與網路作為輔助（下方有參考連結）。</p>

</div>
    <div class="bookmark">
      <!-- <i class="far fa-comments"></i> -->
      <i class="fas fa-comments"></i>
      <span>
        


<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
var disqus_config = function () {
        // this.page.url = '/blog//%E7%B5%B1%E8%A8%88/2018/09/04/%E7%B5%B1%E8%A8%88-%E9%9B%A2%E6%95%A3%E5%9E%8B(Discrete)%E9%9A%A8%E6%A9%9F%E8%AE%8A%E6%95%B8%E8%88%87%E5%85%B6%E6%A9%9F%E7%8E%87%E5%88%86%E4%BD%88(3)/#disqus_thread';
        this.page.identifier = '/%E7%B5%B1%E8%A8%88/2018/09/04/%E7%B5%B1%E8%A8%88-%E9%9B%A2%E6%95%A3%E5%9E%8B(Discrete)%E9%9A%A8%E6%A9%9F%E8%AE%8A%E6%95%B8%E8%88%87%E5%85%B6%E6%A9%9F%E7%8E%87%E5%88%86%E4%BD%88(3)/';
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://mcshihs.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>



        <a href="/blog//%E7%B5%B1%E8%A8%88/2018/09/04/%E7%B5%B1%E8%A8%88-%E9%9B%A2%E6%95%A3%E5%9E%8B(Discrete)%E9%9A%A8%E6%A9%9F%E8%AE%8A%E6%95%B8%E8%88%87%E5%85%B6%E6%A9%9F%E7%8E%87%E5%88%86%E4%BD%88(3)/#disqus_thread" data-disqus-identifier="/%E7%B5%B1%E8%A8%88/2018/09/04/%E7%B5%B1%E8%A8%88-%E9%9B%A2%E6%95%A3%E5%9E%8B(Discrete)%E9%9A%A8%E6%A9%9F%E8%AE%8A%E6%95%B8%E8%88%87%E5%85%B6%E6%A9%9F%E7%8E%87%E5%88%86%E4%BD%88(3)/">0 Comments</a>
      </span>

    </div>
    
  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/blog/page5">Older</a>
  
  
    
      <a class="pagination-item newer" href="/blog/page3">Newer</a>
    
  
</div>
    </div>
    <script id="dsq-count-scr" src="//mcshihs.disqus.com/count.js" async></script>
  </body>
</html>
